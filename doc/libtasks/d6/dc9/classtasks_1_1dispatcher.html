<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libtasks Documentation: tasks::dispatcher Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libtasks Documentation
   &#160;<span id="projectnumber">1.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/dc9/classtasks_1_1dispatcher.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../d4/db0/classtasks_1_1dispatcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tasks::dispatcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for tasks::dispatcher:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d24/classtasks_1_1dispatcher__coll__graph.png" border="0" usemap="#tasks_1_1dispatcher_coll__map" alt="Collaboration graph"/></div>
<map name="tasks_1_1dispatcher_coll__map" id="tasks_1_1dispatcher_coll__map">
<area shape="rect" id="node2" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html" title="A thread safe lock free bitset. " alt="" coords="295,49,425,76"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aaa5a38510ec8bcfc0b281af87d8547fd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fd">mode</a> { <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fdafd86ac2a1be6a72608acb4ec17f86fd3">mode::SINGLE_LOOP</a>, 
<a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fda058177449dedc151f95e508807a9d055">mode::MULTI_LOOP</a>
 }</td></tr>
<tr class="separator:aaa5a38510ec8bcfc0b281af87d8547fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a63c3101c24db26b59b4705e56ab55663"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a63c3101c24db26b59b4705e56ab55663">dispatcher</a> (uint8_t num_workers)</td></tr>
<tr class="separator:a63c3101c24db26b59b4705e56ab55663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c95726ce1f6d98d9c9d27557fbddb3"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#ac5c95726ce1f6d98d9c9d27557fbddb3">free_worker</a> ()</td></tr>
<tr class="memdesc:ac5c95726ce1f6d98d9c9d27557fbddb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a free worker to promote it to the leader.  <a href="#ac5c95726ce1f6d98d9c9d27557fbddb3">More...</a><br/></td></tr>
<tr class="separator:ac5c95726ce1f6d98d9c9d27557fbddb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f0b2249ffcd21a10196f709ba06ed92"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d8/d3f/classtasks_1_1executor.html">executor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6f0b2249ffcd21a10196f709ba06ed92">free_executor</a> ()</td></tr>
<tr class="memdesc:a6f0b2249ffcd21a10196f709ba06ed92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a free executor. If non is found a new executor gets created.  <a href="#a6f0b2249ffcd21a10196f709ba06ed92">More...</a><br/></td></tr>
<tr class="separator:a6f0b2249ffcd21a10196f709ba06ed92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b0b460f2aeb46b76ff9c09084a7f7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#ac2b0b460f2aeb46b76ff9c09084a7f7b">add_free_worker</a> (uint8_t id)</td></tr>
<tr class="memdesc:ac2b0b460f2aeb46b76ff9c09084a7f7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">When a worker finishes his work he returns to the free worker queue.  <a href="#ac2b0b460f2aeb46b76ff9c09084a7f7b">More...</a><br/></td></tr>
<tr class="separator:ac2b0b460f2aeb46b76ff9c09084a7f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade14fe5faea8547379130930c9b4104b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#ade14fe5faea8547379130930c9b4104b">last_worker</a> ()</td></tr>
<tr class="separator:ade14fe5faea8547379130930c9b4104b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1cadf1f3c41922f3a587d6a68404aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a0f1cadf1f3c41922f3a587d6a68404aa">get_worker_by_task</a> (<a class="el" href="../../d6/d2e/classtasks_1_1event__task.html">event_task</a> *<a class="el" href="../../d7/d3c/classtasks_1_1task.html">task</a>)</td></tr>
<tr class="separator:a0f1cadf1f3c41922f3a587d6a68404aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adea6e284569cb76d49aaf4dc8b780b60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#adea6e284569cb76d49aaf4dc8b780b60">add_task</a> (<a class="el" href="../../d7/d3c/classtasks_1_1task.html">task</a> *<a class="el" href="../../d7/d3c/classtasks_1_1task.html">task</a>)</td></tr>
<tr class="separator:adea6e284569cb76d49aaf4dc8b780b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed405b5465b95f8fd79d68aa460fcf6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a1ed405b5465b95f8fd79d68aa460fcf6">add_event_task</a> (<a class="el" href="../../d6/d2e/classtasks_1_1event__task.html">event_task</a> *<a class="el" href="../../d7/d3c/classtasks_1_1task.html">task</a>)</td></tr>
<tr class="memdesc:a1ed405b5465b95f8fd79d68aa460fcf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an event task to the system.  <a href="#a1ed405b5465b95f8fd79d68aa460fcf6">More...</a><br/></td></tr>
<tr class="separator:a1ed405b5465b95f8fd79d68aa460fcf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8e57bef3ca3f4d17cd4aeb16010d6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#abe8e57bef3ca3f4d17cd4aeb16010d6f">add_exec_task</a> (<a class="el" href="../../da/de3/classtasks_1_1exec__task.html">exec_task</a> *<a class="el" href="../../d7/d3c/classtasks_1_1task.html">task</a>)</td></tr>
<tr class="memdesc:abe8e57bef3ca3f4d17cd4aeb16010d6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an exec task to the system.  <a href="#abe8e57bef3ca3f4d17cd4aeb16010d6f">More...</a><br/></td></tr>
<tr class="separator:abe8e57bef3ca3f4d17cd4aeb16010d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa63903229ad8948e8fc48a1131fd77a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aa63903229ad8948e8fc48a1131fd77a3">remove_task</a> (<a class="el" href="../../d7/d3c/classtasks_1_1task.html">task</a> *<a class="el" href="../../d7/d3c/classtasks_1_1task.html">task</a>)</td></tr>
<tr class="memdesc:aa63903229ad8948e8fc48a1131fd77a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a task from the system.  <a href="#aa63903229ad8948e8fc48a1131fd77a3">More...</a><br/></td></tr>
<tr class="separator:aa63903229ad8948e8fc48a1131fd77a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc3fb597041623eb87c696364a0a08c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6fc3fb597041623eb87c696364a0a08c">remove_event_task</a> (<a class="el" href="../../d6/d2e/classtasks_1_1event__task.html">event_task</a> *<a class="el" href="../../d7/d3c/classtasks_1_1task.html">task</a>)</td></tr>
<tr class="separator:a6fc3fb597041623eb87c696364a0a08c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3efc12d25b336e7ff11ecba6b50d1f73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a3efc12d25b336e7ff11ecba6b50d1f73">remove_exec_task</a> (<a class="el" href="../../da/de3/classtasks_1_1exec__task.html">exec_task</a> *<a class="el" href="../../d7/d3c/classtasks_1_1task.html">task</a>)</td></tr>
<tr class="separator:a3efc12d25b336e7ff11ecba6b50d1f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af94da68a83d84223856f73d0279ebbff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#af94da68a83d84223856f73d0279ebbff">run</a> (int num,...)</td></tr>
<tr class="memdesc:af94da68a83d84223856f73d0279ebbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method starts the system and blocks until <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6099c2f214d71c7ae422e639ad908cf4" title="Terminate the workers and die. ">terminate()</a> gets called.  <a href="#af94da68a83d84223856f73d0279ebbff">More...</a><br/></td></tr>
<tr class="separator:af94da68a83d84223856f73d0279ebbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e21d684ddcbd5c2531262ac5c044ce7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a9e21d684ddcbd5c2531262ac5c044ce7">run</a> (std::vector&lt; <a class="el" href="../../d7/d3c/classtasks_1_1task.html">tasks::task</a> * &gt; &amp;tasks)</td></tr>
<tr class="memdesc:a9e21d684ddcbd5c2531262ac5c044ce7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method starts the system and blocks until <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6099c2f214d71c7ae422e639ad908cf4" title="Terminate the workers and die. ">terminate()</a> gets called.  <a href="#a9e21d684ddcbd5c2531262ac5c044ce7">More...</a><br/></td></tr>
<tr class="separator:a9e21d684ddcbd5c2531262ac5c044ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1de50ccbc2a1d653a5b80be64d2f3b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#ab1de50ccbc2a1d653a5b80be64d2f3b5">start</a> ()</td></tr>
<tr class="memdesc:ab1de50ccbc2a1d653a5b80be64d2f3b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the event loop. Do not block.  <a href="#ab1de50ccbc2a1d653a5b80be64d2f3b5">More...</a><br/></td></tr>
<tr class="separator:ab1de50ccbc2a1d653a5b80be64d2f3b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c91d942bcc8dc8c8647f5571f79660"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#ad4c91d942bcc8dc8c8647f5571f79660">join</a> ()</td></tr>
<tr class="memdesc:ad4c91d942bcc8dc8c8647f5571f79660"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the dispatcher to finish.  <a href="#ad4c91d942bcc8dc8c8647f5571f79660">More...</a><br/></td></tr>
<tr class="separator:ad4c91d942bcc8dc8c8647f5571f79660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6099c2f214d71c7ae422e639ad908cf4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6099c2f214d71c7ae422e639ad908cf4">terminate</a> ()</td></tr>
<tr class="memdesc:a6099c2f214d71c7ae422e639ad908cf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate the workers and die.  <a href="#a6099c2f214d71c7ae422e639ad908cf4">More...</a><br/></td></tr>
<tr class="separator:a6099c2f214d71c7ae422e639ad908cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0116b9b88e3adfc67567aaa764e6118f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a0116b9b88e3adfc67567aaa764e6118f">print_worker_stats</a> () const </td></tr>
<tr class="separator:a0116b9b88e3adfc67567aaa764e6118f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2d992ff16832acb3e5ad2f92ad11e9f5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a2d992ff16832acb3e5ad2f92ad11e9f5">init_workers</a> (uint8_t num_workers)</td></tr>
<tr class="separator:a2d992ff16832acb3e5ad2f92ad11e9f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50787eb5af4f1ce048c6a41a777a4c80"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a50787eb5af4f1ce048c6a41a777a4c80">init_run_mode</a> (<a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fd">mode</a> m)</td></tr>
<tr class="separator:a50787eb5af4f1ce048c6a41a777a4c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a274be124d8a11e9a68a8debb69daac0b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fd">mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b">run_mode</a> ()</td></tr>
<tr class="separator:a274be124d8a11e9a68a8debb69daac0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36c445936d02e0bdd2f6d064311efb5e"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html">dispatcher</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a36c445936d02e0bdd2f6d064311efb5e">instance</a> ()</td></tr>
<tr class="separator:a36c445936d02e0bdd2f6d064311efb5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a503adf4d50ad6b956a6fc59215e013b6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a503adf4d50ad6b956a6fc59215e013b6">destroy</a> ()</td></tr>
<tr class="separator:a503adf4d50ad6b956a6fc59215e013b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92cc70a96a3b044ed50ab5c88d271c58"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a92cc70a96a3b044ed50ab5c88d271c58">add_signal_handler</a> (int sig, <a class="el" href="../../de/d04/namespacetasks.html#a088998b61eb69b2a8cb8c26608845594">signal_func_t</a> func)</td></tr>
<tr class="separator:a92cc70a96a3b044ed50ab5c88d271c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2d4864b962ccdeef43cd0eb0ae77d4c9"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a2d4864b962ccdeef43cd0eb0ae77d4c9">m_term</a></td></tr>
<tr class="separator:a2d4864b962ccdeef43cd0eb0ae77d4c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad793b17dffed7a0df52e3e10a0858d41"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#ad793b17dffed7a0df52e3e10a0858d41">m_workers</a></td></tr>
<tr class="memdesc:ad793b17dffed7a0df52e3e10a0858d41"><td class="mdescLeft">&#160;</td><td class="mdescRight">All worker threads.  <a href="#ad793b17dffed7a0df52e3e10a0858d41">More...</a><br/></td></tr>
<tr class="separator:ad793b17dffed7a0df52e3e10a0858d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a531e1cdcf4acc1907ef6f685125a628e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a531e1cdcf4acc1907ef6f685125a628e">m_num_workers</a> = 0</td></tr>
<tr class="separator:a531e1cdcf4acc1907ef6f685125a628e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40857a3d2ef9712a973771d75047510f"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d8/d3f/classtasks_1_1executor.html">executor</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a40857a3d2ef9712a973771d75047510f">m_executors</a></td></tr>
<tr class="memdesc:a40857a3d2ef9712a973771d75047510f"><td class="mdescLeft">&#160;</td><td class="mdescRight">All executor threads.  <a href="#a40857a3d2ef9712a973771d75047510f">More...</a><br/></td></tr>
<tr class="separator:a40857a3d2ef9712a973771d75047510f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3172cd362356244aac65641a0e11832"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#ae3172cd362356244aac65641a0e11832">m_executor_mutex</a></td></tr>
<tr class="separator:ae3172cd362356244aac65641a0e11832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8009d8f9f2845695ee0502d9a0260e62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html">tools::bitset</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a8009d8f9f2845695ee0502d9a0260e62">m_workers_busy</a></td></tr>
<tr class="memdesc:a8009d8f9f2845695ee0502d9a0260e62"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the workers used for maintaining the leader/followers.  <a href="#a8009d8f9f2845695ee0502d9a0260e62">More...</a><br/></td></tr>
<tr class="separator:a8009d8f9f2845695ee0502d9a0260e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf668caacd11b079e08f8b58e77e384"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#a86b92a7ca5cf65dfb44bd7007521ac12">tools::bitset::int_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#abbf668caacd11b079e08f8b58e77e384">m_last_worker_id</a> = 0</td></tr>
<tr class="separator:abbf668caacd11b079e08f8b58e77e384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec2ac313e26592830133bad2f94e7ae"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a7ec2ac313e26592830133bad2f94e7ae">m_rr_worker_id</a></td></tr>
<tr class="separator:a7ec2ac313e26592830133bad2f94e7ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd816ef88e3d4a51b714f1a6aa04b47"><td class="memItemLeft" align="right" valign="top">std::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6cd816ef88e3d4a51b714f1a6aa04b47">m_finish_cond</a></td></tr>
<tr class="memdesc:a6cd816ef88e3d4a51b714f1a6aa04b47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition variable/mutex used to wait for finishing up.  <a href="#a6cd816ef88e3d4a51b714f1a6aa04b47">More...</a><br/></td></tr>
<tr class="separator:a6cd816ef88e3d4a51b714f1a6aa04b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f90cc97b04d642beec547b04eb2a596"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a0f90cc97b04d642beec547b04eb2a596">m_finish_mutex</a></td></tr>
<tr class="separator:a0f90cc97b04d642beec547b04eb2a596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6350532e658aabc360777a7ad26a4fb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aa6350532e658aabc360777a7ad26a4fb">m_started</a> = false</td></tr>
<tr class="separator:aa6350532e658aabc360777a7ad26a4fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a5bbc7a5d2b0e83b81dc931fc6f8250c7"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html">dispatcher</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a5bbc7a5d2b0e83b81dc931fc6f8250c7">m_instance</a> = nullptr</td></tr>
<tr class="separator:a5bbc7a5d2b0e83b81dc931fc6f8250c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad805f2ca3324b777dc3a13c0749b7df6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fd">mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#ad805f2ca3324b777dc3a13c0749b7df6">m_run_mode</a> = <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fdafd86ac2a1be6a72608acb4ec17f86fd3">mode::SINGLE_LOOP</a></td></tr>
<tr class="separator:ad805f2ca3324b777dc3a13c0749b7df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a241061ac10a21ce4391a9be4697c7363"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a241061ac10a21ce4391a9be4697c7363">test_exec</a></td></tr>
<tr class="separator:a241061ac10a21ce4391a9be4697c7363"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00036">36</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="aaa5a38510ec8bcfc0b281af87d8547fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fd">tasks::dispatcher::mode</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="aaa5a38510ec8bcfc0b281af87d8547fdafd86ac2a1be6a72608acb4ec17f86fd3"></a>SINGLE_LOOP</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="aaa5a38510ec8bcfc0b281af87d8547fda058177449dedc151f95e508807a9d055"></a>MULTI_LOOP</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00040">40</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a63c3101c24db26b59b4705e56ab55663"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tasks::dispatcher::dispatcher </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>num_workers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00026">26</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1ed405b5465b95f8fd79d68aa460fcf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::add_event_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d2e/classtasks_1_1event__task.html">event_task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an event task to the system. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00207">207</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a1ed405b5465b95f8fd79d68aa460fcf6_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a1ed405b5465b95f8fd79d68aa460fcf6_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a1ed405b5465b95f8fd79d68aa460fcf6_cgraph" id="d6/dc9/classtasks_1_1dispatcher_a1ed405b5465b95f8fd79d68aa460fcf6_cgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#a0f1cadf1f3c41922f3a587d6a68404aa" title="tasks::dispatcher::\lget_worker_by_task" alt="" coords="184,34,323,75"/><area shape="rect" id="node5" href="../../d6/d2e/classtasks_1_1event__task.html#ade2d212c640ddc789204794821bbf17e" title="Initialize the underlying watcher object. " alt="" coords="186,99,321,141"/><area shape="rect" id="node6" href="../../d6/d2e/classtasks_1_1event__task.html#a1bed1d92dbf4b293948bf6123be5ff78" title="tasks::event_task::\lassign_worker" alt="" coords="186,165,321,206"/><area shape="rect" id="node8" href="../../d6/d2e/classtasks_1_1event__task.html#ac31f9ced1d3a67eeaf31db102e84aa16" title="Activate the underlying watcher to listen for I/O or timer events. " alt="" coords="186,230,321,271"/><area shape="rect" id="node3" href="../../d6/d2e/classtasks_1_1event__task.html#a9b59758202bc6620312a161d8ecf097a" title="Returns a pointer to the assigned worker. " alt="" coords="371,5,506,46"/><area shape="rect" id="node4" href="../../df/d43/classtasks_1_1worker.html#af9d8fcab43c8b5e4b98374babd5d8884" title="Provide access to the executing worker thread object in the current thread context. " alt="" coords="375,71,502,97"/><area shape="rect" id="node7" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b" title="tasks::dispatcher::\lrun_mode" alt="" coords="373,165,504,206"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a1ed405b5465b95f8fd79d68aa460fcf6_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a1ed405b5465b95f8fd79d68aa460fcf6_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a1ed405b5465b95f8fd79d68aa460fcf6_icgraph" id="d6/dc9/classtasks_1_1dispatcher_a1ed405b5465b95f8fd79d68aa460fcf6_icgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#adea6e284569cb76d49aaf4dc8b780b60" title="tasks::dispatcher::\ladd_task" alt="" coords="184,5,315,46"/><area shape="rect" id="node3" href="../../d6/dc9/classtasks_1_1dispatcher.html#af94da68a83d84223856f73d0279ebbff" title="This method starts the system and blocks until terminate() gets called. " alt="" coords="363,12,511,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abe8e57bef3ca3f4d17cd4aeb16010d6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::add_exec_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/de3/classtasks_1_1exec__task.html">exec_task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an exec task to the system. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00215">215</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_abe8e57bef3ca3f4d17cd4aeb16010d6f_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_abe8e57bef3ca3f4d17cd4aeb16010d6f_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_abe8e57bef3ca3f4d17cd4aeb16010d6f_cgraph" id="d6/dc9/classtasks_1_1dispatcher_abe8e57bef3ca3f4d17cd4aeb16010d6f_cgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6f0b2249ffcd21a10196f709ba06ed92" title="Find a free executor. If non is found a new executor gets created. " alt="" coords="184,5,315,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_abe8e57bef3ca3f4d17cd4aeb16010d6f_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_abe8e57bef3ca3f4d17cd4aeb16010d6f_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_abe8e57bef3ca3f4d17cd4aeb16010d6f_icgraph" id="d6/dc9/classtasks_1_1dispatcher_abe8e57bef3ca3f4d17cd4aeb16010d6f_icgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#adea6e284569cb76d49aaf4dc8b780b60" title="tasks::dispatcher::\ladd_task" alt="" coords="184,5,315,46"/><area shape="rect" id="node3" href="../../d6/dc9/classtasks_1_1dispatcher.html#af94da68a83d84223856f73d0279ebbff" title="This method starts the system and blocks until terminate() gets called. " alt="" coords="363,12,511,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac2b0b460f2aeb46b76ff9c09084a7f7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::add_free_worker </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When a worker finishes his work he returns to the free worker queue. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00146">146</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_ac2b0b460f2aeb46b76ff9c09084a7f7b_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_ac2b0b460f2aeb46b76ff9c09084a7f7b_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_ac2b0b460f2aeb46b76ff9c09084a7f7b_cgraph" id="d6/dc9/classtasks_1_1dispatcher_ac2b0b460f2aeb46b76ff9c09084a7f7b_cgraph">
<area shape="rect" id="node2" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#aa039383e024099e58a973dcb15185b0a" title="Set a bit. " alt="" coords="185,12,341,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a92cc70a96a3b044ed50ab5c88d271c58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::add_signal_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/d04/namespacetasks.html#a088998b61eb69b2a8cb8c26608845594">signal_func_t</a>&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a signal handler. You have to call this before calling <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#ab1de50ccbc2a1d653a5b80be64d2f3b5" title="Start the event loop. Do not block. ">start()</a> or <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#af94da68a83d84223856f73d0279ebbff" title="This method starts the system and blocks until terminate() gets called. ">run()</a>. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00287">287</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a92cc70a96a3b044ed50ab5c88d271c58_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a92cc70a96a3b044ed50ab5c88d271c58_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a92cc70a96a3b044ed50ab5c88d271c58_cgraph" id="d6/dc9/classtasks_1_1dispatcher_a92cc70a96a3b044ed50ab5c88d271c58_cgraph">
<area shape="rect" id="node2" href="../../de/d04/namespacetasks.html#a8daecd6a1601f39f21b41ac102b17032" title="tasks::handle_signal" alt="" coords="187,12,328,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a92cc70a96a3b044ed50ab5c88d271c58_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a92cc70a96a3b044ed50ab5c88d271c58_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a92cc70a96a3b044ed50ab5c88d271c58_icgraph" id="d6/dc9/classtasks_1_1dispatcher_a92cc70a96a3b044ed50ab5c88d271c58_icgraph">
<area shape="rect" id="node2" href="../../d9/d04/echoserver_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="187,12,237,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adea6e284569cb76d49aaf4dc8b780b60"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::add_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d3c/classtasks_1_1task.html">task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a task to the system. This method will find out if the task is an event or exec task and handles it accordingly. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00177">177</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_adea6e284569cb76d49aaf4dc8b780b60_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_adea6e284569cb76d49aaf4dc8b780b60_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_adea6e284569cb76d49aaf4dc8b780b60_cgraph" id="d6/dc9/classtasks_1_1dispatcher_adea6e284569cb76d49aaf4dc8b780b60_cgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#a1ed405b5465b95f8fd79d68aa460fcf6" title="Add an event task to the system. " alt="" coords="184,165,315,206"/><area shape="rect" id="node10" href="../../d6/dc9/classtasks_1_1dispatcher.html#abe8e57bef3ca3f4d17cd4aeb16010d6f" title="Add an exec task to the system. " alt="" coords="184,262,315,303"/><area shape="rect" id="node3" href="../../d6/dc9/classtasks_1_1dispatcher.html#a0f1cadf1f3c41922f3a587d6a68404aa" title="tasks::dispatcher::\lget_worker_by_task" alt="" coords="363,34,501,75"/><area shape="rect" id="node6" href="../../d6/d2e/classtasks_1_1event__task.html#ade2d212c640ddc789204794821bbf17e" title="Initialize the underlying watcher object. " alt="" coords="365,99,499,141"/><area shape="rect" id="node7" href="../../d6/d2e/classtasks_1_1event__task.html#a1bed1d92dbf4b293948bf6123be5ff78" title="tasks::event_task::\lassign_worker" alt="" coords="365,165,499,206"/><area shape="rect" id="node9" href="../../d6/d2e/classtasks_1_1event__task.html#ac31f9ced1d3a67eeaf31db102e84aa16" title="Activate the underlying watcher to listen for I/O or timer events. " alt="" coords="365,230,499,271"/><area shape="rect" id="node4" href="../../d6/d2e/classtasks_1_1event__task.html#a9b59758202bc6620312a161d8ecf097a" title="Returns a pointer to the assigned worker. " alt="" coords="550,5,685,46"/><area shape="rect" id="node5" href="../../df/d43/classtasks_1_1worker.html#af9d8fcab43c8b5e4b98374babd5d8884" title="Provide access to the executing worker thread object in the current thread context. " alt="" coords="554,71,681,97"/><area shape="rect" id="node8" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b" title="tasks::dispatcher::\lrun_mode" alt="" coords="552,165,683,206"/><area shape="rect" id="node11" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6f0b2249ffcd21a10196f709ba06ed92" title="Find a free executor. If non is found a new executor gets created. " alt="" coords="367,295,497,337"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_adea6e284569cb76d49aaf4dc8b780b60_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_adea6e284569cb76d49aaf4dc8b780b60_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_adea6e284569cb76d49aaf4dc8b780b60_icgraph" id="d6/dc9/classtasks_1_1dispatcher_adea6e284569cb76d49aaf4dc8b780b60_icgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#af94da68a83d84223856f73d0279ebbff" title="This method starts the system and blocks until terminate() gets called. " alt="" coords="185,12,333,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a503adf4d50ad6b956a6fc59215e013b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tasks::dispatcher::destroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00083">83</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a503adf4d50ad6b956a6fc59215e013b6_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a503adf4d50ad6b956a6fc59215e013b6_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a503adf4d50ad6b956a6fc59215e013b6_icgraph" id="d6/dc9/classtasks_1_1dispatcher_a503adf4d50ad6b956a6fc59215e013b6_icgraph">
<area shape="rect" id="node2" href="../../df/d0a/main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="184,12,235,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6f0b2249ffcd21a10196f709ba06ed92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d8/d3f/classtasks_1_1executor.html">executor</a> &gt; tasks::dispatcher::free_executor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a free executor. If non is found a new executor gets created. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00122">122</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a6f0b2249ffcd21a10196f709ba06ed92_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a6f0b2249ffcd21a10196f709ba06ed92_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a6f0b2249ffcd21a10196f709ba06ed92_icgraph" id="d6/dc9/classtasks_1_1dispatcher_a6f0b2249ffcd21a10196f709ba06ed92_icgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#abe8e57bef3ca3f4d17cd4aeb16010d6f" title="Add an exec task to the system. " alt="" coords="184,5,315,46"/><area shape="rect" id="node3" href="../../d6/dc9/classtasks_1_1dispatcher.html#adea6e284569cb76d49aaf4dc8b780b60" title="tasks::dispatcher::\ladd_task" alt="" coords="363,5,493,46"/><area shape="rect" id="node4" href="../../d6/dc9/classtasks_1_1dispatcher.html#af94da68a83d84223856f73d0279ebbff" title="This method starts the system and blocks until terminate() gets called. " alt="" coords="542,12,690,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac5c95726ce1f6d98d9c9d27557fbddb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a> &gt; tasks::dispatcher::free_worker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a free worker to promote it to the leader. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00109">109</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_ac5c95726ce1f6d98d9c9d27557fbddb3_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_ac5c95726ce1f6d98d9c9d27557fbddb3_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_ac5c95726ce1f6d98d9c9d27557fbddb3_cgraph" id="d6/dc9/classtasks_1_1dispatcher_ac5c95726ce1f6d98d9c9d27557fbddb3_cgraph">
<area shape="rect" id="node2" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#a50f9de41bf24eeb68df54085c4b70cc2" title="tasks::tools::bitset\l::next" alt="" coords="184,5,315,46"/><area shape="rect" id="node4" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#a7aa917a033cfa6443b7978d8934bdef8" title="Unset a bit. " alt="" coords="184,70,315,111"/><area shape="rect" id="node3" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#a1a98a696eddee8fb05c9fea79e44ae23" title="Test if a bit is set. " alt="" coords="363,5,493,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0f1cadf1f3c41922f3a587d6a68404aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a> * tasks::dispatcher::get_worker_by_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d2e/classtasks_1_1event__task.html">event_task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the worker assigned to a task. If no worker is assigned to the given task, a worker is picked depending on the run mode. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00151">151</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a0f1cadf1f3c41922f3a587d6a68404aa_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a0f1cadf1f3c41922f3a587d6a68404aa_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a0f1cadf1f3c41922f3a587d6a68404aa_cgraph" id="d6/dc9/classtasks_1_1dispatcher_a0f1cadf1f3c41922f3a587d6a68404aa_cgraph">
<area shape="rect" id="node2" href="../../d6/d2e/classtasks_1_1event__task.html#a9b59758202bc6620312a161d8ecf097a" title="Returns a pointer to the assigned worker. " alt="" coords="193,5,327,46"/><area shape="rect" id="node3" href="../../df/d43/classtasks_1_1worker.html#af9d8fcab43c8b5e4b98374babd5d8884" title="Provide access to the executing worker thread object in the current thread context. " alt="" coords="197,71,323,97"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a0f1cadf1f3c41922f3a587d6a68404aa_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a0f1cadf1f3c41922f3a587d6a68404aa_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a0f1cadf1f3c41922f3a587d6a68404aa_icgraph" id="d6/dc9/classtasks_1_1dispatcher_a0f1cadf1f3c41922f3a587d6a68404aa_icgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#a1ed405b5465b95f8fd79d68aa460fcf6" title="Add an event task to the system. " alt="" coords="195,5,325,46"/><area shape="rect" id="node5" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6fc3fb597041623eb87c696364a0a08c" title="tasks::dispatcher::\lremove_event_task" alt="" coords="192,70,328,111"/><area shape="rect" id="node3" href="../../d6/dc9/classtasks_1_1dispatcher.html#adea6e284569cb76d49aaf4dc8b780b60" title="tasks::dispatcher::\ladd_task" alt="" coords="376,5,507,46"/><area shape="rect" id="node4" href="../../d6/dc9/classtasks_1_1dispatcher.html#af94da68a83d84223856f73d0279ebbff" title="This method starts the system and blocks until terminate() gets called. " alt="" coords="555,12,703,39"/><area shape="rect" id="node6" href="../../d6/dc9/classtasks_1_1dispatcher.html#aa63903229ad8948e8fc48a1131fd77a3" title="Remove a task from the system. " alt="" coords="376,70,507,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a50787eb5af4f1ce048c6a41a777a4c80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tasks::dispatcher::init_run_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fd">mode</a>&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the run mode. The default is to run a leader/followers system (MODE_SINGLE_LOOP) in which only one event loop exists that is passed from worker to worker. An alternative is to run an event loop in each worker (MODE_MULTI_LOOP). This can improve the responsiveness and throughput in some situations.</p>
<p>Note: This method has to be called before creating the dispatcher singleton. It will fail when called later.</p>
<p>Available Modes: SINGLE_LOOP (Default) MULTI_LOOP </p>

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00065">65</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a50787eb5af4f1ce048c6a41a777a4c80_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a50787eb5af4f1ce048c6a41a777a4c80_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a50787eb5af4f1ce048c6a41a777a4c80_icgraph" id="d6/dc9/classtasks_1_1dispatcher_a50787eb5af4f1ce048c6a41a777a4c80_icgraph">
<area shape="rect" id="node2" href="../../df/d0a/main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="184,12,235,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2d992ff16832acb3e5ad2f92ad11e9f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tasks::dispatcher::init_workers </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>num_workers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Use this method to override the number of worker threads. The default is the number of CPU's. This method needs to be called before the first call to <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a36c445936d02e0bdd2f6d064311efb5e">instance()</a>. </p>

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00047">47</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a2d992ff16832acb3e5ad2f92ad11e9f5_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a2d992ff16832acb3e5ad2f92ad11e9f5_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a2d992ff16832acb3e5ad2f92ad11e9f5_icgraph" id="d6/dc9/classtasks_1_1dispatcher_a2d992ff16832acb3e5ad2f92ad11e9f5_icgraph">
<area shape="rect" id="node2" href="../../df/d0a/main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="184,12,235,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a36c445936d02e0bdd2f6d064311efb5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt;<a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html">dispatcher</a>&gt; tasks::dispatcher::instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00075">75</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a36c445936d02e0bdd2f6d064311efb5e_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a36c445936d02e0bdd2f6d064311efb5e_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a36c445936d02e0bdd2f6d064311efb5e_icgraph" id="d6/dc9/classtasks_1_1dispatcher_a36c445936d02e0bdd2f6d064311efb5e_icgraph">
<area shape="rect" id="node2" href="../../d9/d52/classtasks_1_1disk__io__task.html#a23b21c2641131cd429ab3cab55404355" title="tasks::disk_io_task\l::dispose" alt="" coords="206,5,341,46"/><area shape="rect" id="node3" href="../../d2/da7/classstats.html#ae4db8fcbf412dc0ac1201e669ffd0c5a" title="stats::handle_event" alt="" coords="205,71,341,97"/><area shape="rect" id="node4" href="../../d9/d04/echoserver_8cpp.html#a48bc8269f9046d40e104a2595f4bc0cb" title="handle_signal" alt="" coords="223,121,324,148"/><area shape="rect" id="node5" href="../../d9/d04/echoserver_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="248,172,299,199"/><area shape="rect" id="node6" href="../../de/d04/namespacetasks.html#acbaa29475c3e90809925bd54efdabd61" title="Execute code in a separate executor thread. " alt="" coords="228,273,319,300"/><area shape="rect" id="node7" href="../../d4/db5/classtasks_1_1test__exec.html#a32dcf5cf32e413889ba64bb4a32cd60d" title="tasks::test_exec::run" alt="" coords="438,193,583,220"/><area shape="rect" id="node9" href="../../d5/d2c/classtasks_1_1net_1_1http__sender.html#aa557541342d08a5b760a7ab8ef0a01cf" title="tasks::net::http_sender\l::send" alt="" coords="195,325,351,366"/><area shape="rect" id="node10" href="../../d0/dac/classtasks_1_1net__io__task.html#a1fca4aa6fec6f9ace6525c7d7db8ed91" title="tasks::net_io_task\l::add_task" alt="" coords="209,390,338,431"/><area shape="rect" id="node16" href="../../d7/d3c/classtasks_1_1task.html#a6760521fd40b9ec2797089281bc549bb" title="Called by a worker when a task has auto_deletion enabled. " alt="" coords="210,456,337,483"/><area shape="rect" id="node19" href="../../d7/d5b/classtest__http__sender.html#ad6eb21909fa498e6238c0e84a91bb3c3" title="test_http_sender::requests\l_close" alt="" coords="185,507,362,549"/><area shape="rect" id="node20" href="../../d5/d6c/classtest__socket.html#a3358b600ab10f80b3dfe691e4f0a80b9" title="test_socket::tcp" alt="" coords="215,573,331,600"/><area shape="rect" id="node21" href="../../d5/d6c/classtest__socket.html#a3e22f36f531e046ff56d124d017a7022" title="test_socket::unix" alt="" coords="212,624,335,651"/><area shape="rect" id="node22" href="../../df/d43/classtasks_1_1worker.html#afc2c51895085b8d50381ee14e7ff0f2a" title="Add an event to the workers queue from a different thread context. " alt="" coords="208,675,339,717"/><area shape="rect" id="node27" href="../../df/d43/classtasks_1_1worker.html#ac942bd223671898c55e3f57c647bcfc9" title="Find a free worker and promote it to become the next leader. " alt="" coords="195,741,351,782"/><area shape="rect" id="node30" href="../../df/d43/classtasks_1_1worker.html#a4c3a7f55b32bd209fd4a53b674ee8b69" title="Let the dispatcher know that this thread is free to become a leader and take on some work..." alt="" coords="190,807,357,833"/><area shape="rect" id="node8" href="../../d8/d15/classip__service__async2.html#a0378342f7ba91afc515fdac24436ef4f" title="ip_service_async2::\lservice" alt="" coords="441,245,580,286"/><area shape="rect" id="node11" href="../../dc/d51/classtasks_1_1net_1_1acceptor.html#ae137081dc29022fa770536dfc459f365" title="tasks::net::acceptor\l::handle_event" alt="" coords="441,310,580,351"/><area shape="rect" id="node12" href="../../df/d57/classtest__uwsgi__thrift.html#a8e0f02f18a01b9e00dc88871b1b71e51" title="test_uwsgi_thrift::\lrequest" alt="" coords="447,375,574,417"/><area shape="rect" id="node13" href="../../da/dac/classtest__uwsgi__thrift__async.html#a84fd0c8e1fd23efc6d0786a33484d527" title="test_uwsgi_thrift_async\l::request_finish_in_worker_ctx" alt="" coords="411,441,610,482"/><area shape="rect" id="node14" href="../../da/dac/classtest__uwsgi__thrift__async.html#a059217eec203c7c37804734fa75839f4" title="test_uwsgi_thrift_async\l::request_finish_exec" alt="" coords="431,506,591,547"/><area shape="rect" id="node15" href="../../da/dac/classtest__uwsgi__thrift__async.html#a345cd214b86b406000263d02656846c0" title="test_uwsgi_thrift_async\l::request_finish_exec\l_timeout" alt="" coords="431,571,591,627"/><area shape="rect" id="node17" href="../../d8/d3f/classtasks_1_1executor.html#ac20e0d24b93e7875cd02f9bfbe74f1d9" title="tasks::executor::run" alt="" coords="441,651,580,677"/><area shape="rect" id="node18" href="../../d8/d3f/classtasks_1_1executor.html#ab257be0a9cceb79cba2e4121e3e3ce37" title="tasks::executor::executor" alt="" coords="659,648,829,675"/><area shape="rect" id="node23" href="../../d9/d52/classtasks_1_1disk__io__task.html#ae03ee8a0504e129f628f67962cb8b415" title="tasks::disk_io_task::op" alt="" coords="432,705,589,732"/><area shape="rect" id="node24" href="../../d9/d52/classtasks_1_1disk__io__task.html#ac6adaca03bc7cb027c868c39c8b525af" title="tasks::disk_io_task\l::add_task" alt="" coords="677,699,811,741"/><area shape="rect" id="node25" href="../../da/dee/classtest__disk__io__task.html#a9c25624668ac4fb05d80c9e2f6248e3a" title="test_disk_io_task::\lwrite" alt="" coords="890,670,1022,711"/><area shape="rect" id="node26" href="../../da/dee/classtest__disk__io__task.html#a955a97b94427dd160b81a3aff8e71b8d" title="test_disk_io_task::read" alt="" coords="877,736,1035,763"/><area shape="rect" id="node28" href="../../df/d43/classtasks_1_1worker.html#a3a5d28cada13ab34ea812d206e7ca6f3" title="Main method of the thread. " alt="" coords="447,785,574,812"/><area shape="rect" id="node29" href="../../df/d43/classtasks_1_1worker.html#a542a75d46dcfb36e76eef52f6ce9354e" title="tasks::worker::worker" alt="" coords="670,785,818,812"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad4c91d942bcc8dc8c8647f5571f79660"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::join </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for the dispatcher to finish. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00098">98</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_ad4c91d942bcc8dc8c8647f5571f79660_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_ad4c91d942bcc8dc8c8647f5571f79660_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_ad4c91d942bcc8dc8c8647f5571f79660_icgraph" id="d6/dc9/classtasks_1_1dispatcher_ad4c91d942bcc8dc8c8647f5571f79660_icgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#af94da68a83d84223856f73d0279ebbff" title="This method starts the system and blocks until terminate() gets called. " alt="" coords="206,5,354,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ade14fe5faea8547379130930c9b4104b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a>* tasks::dispatcher::last_worker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the last promoted worker from the workers vector. This can be useful to add tasks in situations where a worker handle is not available. </p>

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00109">109</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0116b9b88e3adfc67567aaa764e6118f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::print_worker_stats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00171">171</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6fc3fb597041623eb87c696364a0a08c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::remove_event_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d2e/classtasks_1_1event__task.html">event_task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00246">246</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a6fc3fb597041623eb87c696364a0a08c_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a6fc3fb597041623eb87c696364a0a08c_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a6fc3fb597041623eb87c696364a0a08c_cgraph" id="d6/dc9/classtasks_1_1dispatcher_a6fc3fb597041623eb87c696364a0a08c_cgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#a0f1cadf1f3c41922f3a587d6a68404aa" title="tasks::dispatcher::\lget_worker_by_task" alt="" coords="189,5,328,46"/><area shape="rect" id="node5" href="../../d6/df6/classtasks_1_1disposable.html#a420f0fef229e773808e956e6adcefe8d" title="Check if a task can be disposed or not. " alt="" coords="193,70,325,111"/><area shape="rect" id="node6" href="../../d6/df6/classtasks_1_1disposable.html#a9a312436c0c4e028cb352236c8afbe11" title="Dispose an object. " alt="" coords="193,135,325,177"/><area shape="rect" id="node7" href="../../d5/d9a/classtasks_1_1timer__task.html#a17be38e21ae7366b54e0bc82058fcf56" title="Initialize the underlying watcher object. " alt="" coords="193,201,324,242"/><area shape="rect" id="node8" href="../../d6/d2e/classtasks_1_1event__task.html#a1bed1d92dbf4b293948bf6123be5ff78" title="tasks::event_task::\lassign_worker" alt="" coords="191,266,326,307"/><area shape="rect" id="node10" href="../../d5/d9a/classtasks_1_1timer__task.html#a85b31b79bef51662df50e51c886ee771" title="Activate the underlying watcher to listen for I/O or timer events. " alt="" coords="193,331,324,373"/><area shape="rect" id="node3" href="../../d6/d2e/classtasks_1_1event__task.html#a9b59758202bc6620312a161d8ecf097a" title="Returns a pointer to the assigned worker. " alt="" coords="378,5,513,46"/><area shape="rect" id="node4" href="../../df/d43/classtasks_1_1worker.html#af9d8fcab43c8b5e4b98374babd5d8884" title="Provide access to the executing worker thread object in the current thread context. " alt="" coords="585,191,711,217"/><area shape="rect" id="node9" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b" title="tasks::dispatcher::\lrun_mode" alt="" coords="380,233,511,274"/><area shape="rect" id="node11" href="../../df/d43/classtasks_1_1worker.html#af01020c1495687a82b5acc0a53837056" title="tasks::worker::exec\l_in_worker_ctx" alt="" coords="377,298,514,339"/><area shape="rect" id="node13" href="../../d5/d9a/classtasks_1_1timer__task.html#a1e3fb858d20ae15501112ffa5509824c" title="tasks::timer_task::\lget_string" alt="" coords="380,363,511,405"/><area shape="rect" id="node12" href="../../df/d43/classtasks_1_1worker.html#a49ce862b14b1ec7d08ad9ae3e34a8f61" title="Put a functor into the async work queue of a worker and notify it. " alt="" coords="563,305,733,332"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a6fc3fb597041623eb87c696364a0a08c_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a6fc3fb597041623eb87c696364a0a08c_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a6fc3fb597041623eb87c696364a0a08c_icgraph" id="d6/dc9/classtasks_1_1dispatcher_a6fc3fb597041623eb87c696364a0a08c_icgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#aa63903229ad8948e8fc48a1131fd77a3" title="Remove a task from the system. " alt="" coords="189,5,320,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3efc12d25b336e7ff11ecba6b50d1f73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::remove_exec_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/de3/classtasks_1_1exec__task.html">exec_task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00274">274</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a3efc12d25b336e7ff11ecba6b50d1f73_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a3efc12d25b336e7ff11ecba6b50d1f73_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a3efc12d25b336e7ff11ecba6b50d1f73_icgraph" id="d6/dc9/classtasks_1_1dispatcher_a3efc12d25b336e7ff11ecba6b50d1f73_icgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#aa63903229ad8948e8fc48a1131fd77a3" title="Remove a task from the system. " alt="" coords="187,5,317,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa63903229ad8948e8fc48a1131fd77a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::remove_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d3c/classtasks_1_1task.html">task</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a task from the system. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00221">221</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_aa63903229ad8948e8fc48a1131fd77a3_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_aa63903229ad8948e8fc48a1131fd77a3_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_aa63903229ad8948e8fc48a1131fd77a3_cgraph" id="d6/dc9/classtasks_1_1dispatcher_aa63903229ad8948e8fc48a1131fd77a3_cgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6fc3fb597041623eb87c696364a0a08c" title="tasks::dispatcher::\lremove_event_task" alt="" coords="184,167,320,209"/><area shape="rect" id="node15" href="../../d6/dc9/classtasks_1_1dispatcher.html#a3efc12d25b336e7ff11ecba6b50d1f73" title="tasks::dispatcher::\lremove_exec_task" alt="" coords="186,233,318,274"/><area shape="rect" id="node3" href="../../d6/dc9/classtasks_1_1dispatcher.html#a0f1cadf1f3c41922f3a587d6a68404aa" title="tasks::dispatcher::\lget_worker_by_task" alt="" coords="368,5,507,46"/><area shape="rect" id="node6" href="../../d6/df6/classtasks_1_1disposable.html#a420f0fef229e773808e956e6adcefe8d" title="Check if a task can be disposed or not. " alt="" coords="371,70,503,111"/><area shape="rect" id="node7" href="../../d6/df6/classtasks_1_1disposable.html#a9a312436c0c4e028cb352236c8afbe11" title="Dispose an object. " alt="" coords="371,135,503,177"/><area shape="rect" id="node8" href="../../d5/d9a/classtasks_1_1timer__task.html#a17be38e21ae7366b54e0bc82058fcf56" title="Initialize the underlying watcher object. " alt="" coords="372,201,503,242"/><area shape="rect" id="node9" href="../../d6/d2e/classtasks_1_1event__task.html#a1bed1d92dbf4b293948bf6123be5ff78" title="tasks::event_task::\lassign_worker" alt="" coords="370,266,505,307"/><area shape="rect" id="node11" href="../../d5/d9a/classtasks_1_1timer__task.html#a85b31b79bef51662df50e51c886ee771" title="Activate the underlying watcher to listen for I/O or timer events. " alt="" coords="372,331,503,373"/><area shape="rect" id="node4" href="../../d6/d2e/classtasks_1_1event__task.html#a9b59758202bc6620312a161d8ecf097a" title="Returns a pointer to the assigned worker. " alt="" coords="557,5,691,46"/><area shape="rect" id="node5" href="../../df/d43/classtasks_1_1worker.html#af9d8fcab43c8b5e4b98374babd5d8884" title="Provide access to the executing worker thread object in the current thread context. " alt="" coords="763,191,890,217"/><area shape="rect" id="node10" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b" title="tasks::dispatcher::\lrun_mode" alt="" coords="559,233,689,274"/><area shape="rect" id="node12" href="../../df/d43/classtasks_1_1worker.html#af01020c1495687a82b5acc0a53837056" title="tasks::worker::exec\l_in_worker_ctx" alt="" coords="555,298,693,339"/><area shape="rect" id="node14" href="../../d5/d9a/classtasks_1_1timer__task.html#a1e3fb858d20ae15501112ffa5509824c" title="tasks::timer_task::\lget_string" alt="" coords="559,363,689,405"/><area shape="rect" id="node13" href="../../df/d43/classtasks_1_1worker.html#a49ce862b14b1ec7d08ad9ae3e34a8f61" title="Put a functor into the async work queue of a worker and notify it. " alt="" coords="741,305,912,332"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af94da68a83d84223856f73d0279ebbff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::run </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method starts the system and blocks until <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6099c2f214d71c7ae422e639ad908cf4" title="Terminate the workers and die. ">terminate()</a> gets called. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00032">32</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_af94da68a83d84223856f73d0279ebbff_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_af94da68a83d84223856f73d0279ebbff_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_af94da68a83d84223856f73d0279ebbff_cgraph" id="d6/dc9/classtasks_1_1dispatcher_af94da68a83d84223856f73d0279ebbff_cgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#ab1de50ccbc2a1d653a5b80be64d2f3b5" title="Start the event loop. Do not block. " alt="" coords="213,99,344,141"/><area shape="rect" id="node5" href="../../d6/dc9/classtasks_1_1dispatcher.html#adea6e284569cb76d49aaf4dc8b780b60" title="tasks::dispatcher::\ladd_task" alt="" coords="213,165,344,206"/><area shape="rect" id="node16" href="../../d6/dc9/classtasks_1_1dispatcher.html#ad4c91d942bcc8dc8c8647f5571f79660" title="Wait for the dispatcher to finish. " alt="" coords="203,231,354,257"/><area shape="rect" id="node3" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#a7aa917a033cfa6443b7978d8934bdef8" title="Unset a bit. " alt="" coords="403,34,533,75"/><area shape="rect" id="node4" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#a1a98a696eddee8fb05c9fea79e44ae23" title="Test if a bit is set. " alt="" coords="403,99,533,141"/><area shape="rect" id="node6" href="../../d6/dc9/classtasks_1_1dispatcher.html#a1ed405b5465b95f8fd79d68aa460fcf6" title="Add an event task to the system. " alt="" coords="403,165,533,206"/><area shape="rect" id="node14" href="../../d6/dc9/classtasks_1_1dispatcher.html#abe8e57bef3ca3f4d17cd4aeb16010d6f" title="Add an exec task to the system. " alt="" coords="403,262,533,303"/><area shape="rect" id="node7" href="../../d6/dc9/classtasks_1_1dispatcher.html#a0f1cadf1f3c41922f3a587d6a68404aa" title="tasks::dispatcher::\lget_worker_by_task" alt="" coords="581,34,720,75"/><area shape="rect" id="node10" href="../../d6/d2e/classtasks_1_1event__task.html#ade2d212c640ddc789204794821bbf17e" title="Initialize the underlying watcher object. " alt="" coords="583,99,718,141"/><area shape="rect" id="node11" href="../../d6/d2e/classtasks_1_1event__task.html#a1bed1d92dbf4b293948bf6123be5ff78" title="tasks::event_task::\lassign_worker" alt="" coords="583,165,718,206"/><area shape="rect" id="node13" href="../../d6/d2e/classtasks_1_1event__task.html#ac31f9ced1d3a67eeaf31db102e84aa16" title="Activate the underlying watcher to listen for I/O or timer events. " alt="" coords="583,230,718,271"/><area shape="rect" id="node8" href="../../d6/d2e/classtasks_1_1event__task.html#a9b59758202bc6620312a161d8ecf097a" title="Returns a pointer to the assigned worker. " alt="" coords="769,5,903,46"/><area shape="rect" id="node9" href="../../df/d43/classtasks_1_1worker.html#af9d8fcab43c8b5e4b98374babd5d8884" title="Provide access to the executing worker thread object in the current thread context. " alt="" coords="773,71,899,97"/><area shape="rect" id="node12" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b" title="tasks::dispatcher::\lrun_mode" alt="" coords="771,165,901,206"/><area shape="rect" id="node15" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6f0b2249ffcd21a10196f709ba06ed92" title="Find a free executor. If non is found a new executor gets created. " alt="" coords="585,295,716,337"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9e21d684ddcbd5c2531262ac5c044ce7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::run </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d7/d3c/classtasks_1_1task.html">tasks::task</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>tasks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method starts the system and blocks until <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6099c2f214d71c7ae422e639ad908cf4" title="Terminate the workers and die. ">terminate()</a> gets called. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00051">51</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a9e21d684ddcbd5c2531262ac5c044ce7_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a9e21d684ddcbd5c2531262ac5c044ce7_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a9e21d684ddcbd5c2531262ac5c044ce7_cgraph" id="d6/dc9/classtasks_1_1dispatcher_a9e21d684ddcbd5c2531262ac5c044ce7_cgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#ab1de50ccbc2a1d653a5b80be64d2f3b5" title="Start the event loop. Do not block. " alt="" coords="213,99,344,141"/><area shape="rect" id="node5" href="../../d6/dc9/classtasks_1_1dispatcher.html#adea6e284569cb76d49aaf4dc8b780b60" title="tasks::dispatcher::\ladd_task" alt="" coords="213,165,344,206"/><area shape="rect" id="node16" href="../../d6/dc9/classtasks_1_1dispatcher.html#ad4c91d942bcc8dc8c8647f5571f79660" title="Wait for the dispatcher to finish. " alt="" coords="203,231,354,257"/><area shape="rect" id="node3" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#a7aa917a033cfa6443b7978d8934bdef8" title="Unset a bit. " alt="" coords="403,34,533,75"/><area shape="rect" id="node4" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#a1a98a696eddee8fb05c9fea79e44ae23" title="Test if a bit is set. " alt="" coords="403,99,533,141"/><area shape="rect" id="node6" href="../../d6/dc9/classtasks_1_1dispatcher.html#a1ed405b5465b95f8fd79d68aa460fcf6" title="Add an event task to the system. " alt="" coords="403,165,533,206"/><area shape="rect" id="node14" href="../../d6/dc9/classtasks_1_1dispatcher.html#abe8e57bef3ca3f4d17cd4aeb16010d6f" title="Add an exec task to the system. " alt="" coords="403,262,533,303"/><area shape="rect" id="node7" href="../../d6/dc9/classtasks_1_1dispatcher.html#a0f1cadf1f3c41922f3a587d6a68404aa" title="tasks::dispatcher::\lget_worker_by_task" alt="" coords="581,34,720,75"/><area shape="rect" id="node10" href="../../d6/d2e/classtasks_1_1event__task.html#ade2d212c640ddc789204794821bbf17e" title="Initialize the underlying watcher object. " alt="" coords="583,99,718,141"/><area shape="rect" id="node11" href="../../d6/d2e/classtasks_1_1event__task.html#a1bed1d92dbf4b293948bf6123be5ff78" title="tasks::event_task::\lassign_worker" alt="" coords="583,165,718,206"/><area shape="rect" id="node13" href="../../d6/d2e/classtasks_1_1event__task.html#ac31f9ced1d3a67eeaf31db102e84aa16" title="Activate the underlying watcher to listen for I/O or timer events. " alt="" coords="583,230,718,271"/><area shape="rect" id="node8" href="../../d6/d2e/classtasks_1_1event__task.html#a9b59758202bc6620312a161d8ecf097a" title="Returns a pointer to the assigned worker. " alt="" coords="769,5,903,46"/><area shape="rect" id="node9" href="../../df/d43/classtasks_1_1worker.html#af9d8fcab43c8b5e4b98374babd5d8884" title="Provide access to the executing worker thread object in the current thread context. " alt="" coords="773,71,899,97"/><area shape="rect" id="node12" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b" title="tasks::dispatcher::\lrun_mode" alt="" coords="771,165,901,206"/><area shape="rect" id="node15" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6f0b2249ffcd21a10196f709ba06ed92" title="Find a free executor. If non is found a new executor gets created. " alt="" coords="585,295,716,337"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a274be124d8a11e9a68a8debb69daac0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fd">mode</a> tasks::dispatcher::run_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00073">73</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_a274be124d8a11e9a68a8debb69daac0b_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_a274be124d8a11e9a68a8debb69daac0b_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_a274be124d8a11e9a68a8debb69daac0b_icgraph" id="d6/dc9/classtasks_1_1dispatcher_a274be124d8a11e9a68a8debb69daac0b_icgraph">
<area shape="rect" id="node2" href="../../d6/d2e/classtasks_1_1event__task.html#a1bed1d92dbf4b293948bf6123be5ff78" title="tasks::event_task::\lassign_worker" alt="" coords="201,102,335,143"/><area shape="rect" id="node9" href="../../df/d43/classtasks_1_1worker.html#a542a75d46dcfb36e76eef52f6ce9354e" title="tasks::worker::worker" alt="" coords="585,256,733,283"/><area shape="rect" id="node10" href="../../df/d43/classtasks_1_1worker.html#abacc80578a55ae6614412ef25aeee9bb" title="Return the event loop pointer for this worker. " alt="" coords="191,252,345,279"/><area shape="rect" id="node11" href="../../df/d43/classtasks_1_1worker.html#ac942bd223671898c55e3f57c647bcfc9" title="Find a free worker and promote it to become the next leader. " alt="" coords="190,303,346,345"/><area shape="rect" id="node13" href="../../df/d43/classtasks_1_1worker.html#a4c3a7f55b32bd209fd4a53b674ee8b69" title="Let the dispatcher know that this thread is free to become a leader and take on some work..." alt="" coords="185,369,351,396"/><area shape="rect" id="node3" href="../../d6/dc9/classtasks_1_1dispatcher.html#a1ed405b5465b95f8fd79d68aa460fcf6" title="Add an event task to the system. " alt="" coords="403,5,533,46"/><area shape="rect" id="node6" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6fc3fb597041623eb87c696364a0a08c" title="tasks::dispatcher::\lremove_event_task" alt="" coords="400,70,536,111"/><area shape="rect" id="node8" href="../../d0/dac/classtasks_1_1net__io__task.html#ac9af98f1bea22c48939d657d88293067" title="tasks::net_io_task\l::add_task" alt="" coords="403,135,533,177"/><area shape="rect" id="node4" href="../../d6/dc9/classtasks_1_1dispatcher.html#adea6e284569cb76d49aaf4dc8b780b60" title="tasks::dispatcher::\ladd_task" alt="" coords="593,5,724,46"/><area shape="rect" id="node5" href="../../d6/dc9/classtasks_1_1dispatcher.html#af94da68a83d84223856f73d0279ebbff" title="This method starts the system and blocks until terminate() gets called. " alt="" coords="782,12,930,39"/><area shape="rect" id="node7" href="../../d6/dc9/classtasks_1_1dispatcher.html#aa63903229ad8948e8fc48a1131fd77a3" title="Remove a task from the system. " alt="" coords="593,70,724,111"/><area shape="rect" id="node12" href="../../df/d43/classtasks_1_1worker.html#a3a5d28cada13ab34ea812d206e7ca6f3" title="Main method of the thread. " alt="" coords="405,311,531,337"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab1de50ccbc2a1d653a5b80be64d2f3b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the event loop. Do not block. </p>

<p>Definition at line <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html#l00063">63</a> of file <a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_ab1de50ccbc2a1d653a5b80be64d2f3b5_cgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_ab1de50ccbc2a1d653a5b80be64d2f3b5_cgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_ab1de50ccbc2a1d653a5b80be64d2f3b5_cgraph" id="d6/dc9/classtasks_1_1dispatcher_ab1de50ccbc2a1d653a5b80be64d2f3b5_cgraph">
<area shape="rect" id="node2" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#a7aa917a033cfa6443b7978d8934bdef8" title="Unset a bit. " alt="" coords="184,5,315,46"/><area shape="rect" id="node3" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#a1a98a696eddee8fb05c9fea79e44ae23" title="Test if a bit is set. " alt="" coords="184,70,315,111"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dc9/classtasks_1_1dispatcher_ab1de50ccbc2a1d653a5b80be64d2f3b5_icgraph.png" border="0" usemap="#d6/dc9/classtasks_1_1dispatcher_ab1de50ccbc2a1d653a5b80be64d2f3b5_icgraph" alt=""/></div>
<map name="d6/dc9/classtasks_1_1dispatcher_ab1de50ccbc2a1d653a5b80be64d2f3b5_icgraph" id="d6/dc9/classtasks_1_1dispatcher_ab1de50ccbc2a1d653a5b80be64d2f3b5_icgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#af94da68a83d84223856f73d0279ebbff" title="This method starts the system and blocks until terminate() gets called. " alt="" coords="185,12,333,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6099c2f214d71c7ae422e639ad908cf4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::dispatcher::terminate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Terminate the workers and die. </p>

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00143">143</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a241061ac10a21ce4391a9be4697c7363"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="../../d4/db5/classtasks_1_1test__exec.html">test_exec</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00037">37</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae3172cd362356244aac65641a0e11832"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex tasks::dispatcher::m_executor_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00160">160</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="a40857a3d2ef9712a973771d75047510f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;std::shared_ptr&lt;<a class="el" href="../../d8/d3f/classtasks_1_1executor.html">executor</a>&gt; &gt; tasks::dispatcher::m_executors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All executor threads. </p>

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00159">159</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6cd816ef88e3d4a51b714f1a6aa04b47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::condition_variable tasks::dispatcher::m_finish_cond</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Condition variable/mutex used to wait for finishing up. </p>

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00174">174</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0f90cc97b04d642beec547b04eb2a596"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex tasks::dispatcher::m_finish_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00175">175</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5bbc7a5d2b0e83b81dc931fc6f8250c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html">dispatcher</a> &gt; tasks::dispatcher::m_instance = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00151">151</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="abbf668caacd11b079e08f8b58e77e384"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html#a86b92a7ca5cf65dfb44bd7007521ac12">tools::bitset::int_type</a> tasks::dispatcher::m_last_worker_id = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00166">166</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="a531e1cdcf4acc1907ef6f685125a628e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t tasks::dispatcher::m_num_workers = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00156">156</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7ec2ac313e26592830133bad2f94e7ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;uint8_t&gt; tasks::dispatcher::m_rr_worker_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A round robin counter to add tasks to the system. In case each worker runs it's own event loop this is useful to distribute tasks across the workers. </p>

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00171">171</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad805f2ca3324b777dc3a13c0749b7df6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fd">dispatcher::mode</a> tasks::dispatcher::m_run_mode = <a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html#aaa5a38510ec8bcfc0b281af87d8547fdafd86ac2a1be6a72608acb4ec17f86fd3">mode::SINGLE_LOOP</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00162">162</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa6350532e658aabc360777a7ad26a4fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tasks::dispatcher::m_started = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00177">177</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2d4864b962ccdeef43cd0eb0ae77d4c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; tasks::dispatcher::m_term</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00152">152</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad793b17dffed7a0df52e3e10a0858d41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::shared_ptr&lt;<a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a>&gt; &gt; tasks::dispatcher::m_workers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>All worker threads. </p>

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00155">155</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8009d8f9f2845695ee0502d9a0260e62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d45/classtasks_1_1tools_1_1bitset.html">tools::bitset</a> tasks::dispatcher::m_workers_busy</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State of the workers used for maintaining the leader/followers. </p>

<p>Definition at line <a class="el" href="../../da/d73/dispatcher_8h_source.html#l00165">165</a> of file <a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../da/d73/dispatcher_8h_source.html">dispatcher.h</a></li>
<li><a class="el" href="../../d6/d5f/dispatcher_8cpp_source.html">dispatcher.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/d04/namespacetasks.html">tasks</a></li><li class="navelem"><a class="el" href="../../d6/dc9/classtasks_1_1dispatcher.html">dispatcher</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
