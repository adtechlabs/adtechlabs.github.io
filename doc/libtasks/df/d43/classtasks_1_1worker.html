<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libtasks Documentation: tasks::worker Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libtasks Documentation
   &#160;<span id="projectnumber">1.6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/d43/classtasks_1_1worker.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="../../df/d65/classtasks_1_1worker-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tasks::worker Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for tasks::worker:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d34/classtasks_1_1worker__coll__graph.png" border="0" usemap="#tasks_1_1worker_coll__map" alt="Collaboration graph"/></div>
<map name="tasks_1_1worker_coll__map" id="tasks_1_1worker_coll__map">
<area shape="rect" id="node4" href="../../d6/d2e/classtasks_1_1event__task.html" title="tasks::event_task" alt="" coords="982,132,1109,159"/><area shape="rect" id="node3" href="../../d2/dea/structtasks_1_1event.html" title="tasks::event" alt="" coords="1262,169,1357,196"/><area shape="rect" id="node5" href="../../d7/d3c/classtasks_1_1task.html" title="The base class for any task. " alt="" coords="738,16,825,43"/><area shape="rect" id="node7" href="../../de/d45/structtasks_1_1task_1_1finish__func__t.html" title="tasks::task::finish\l_func_t" alt="" coords="185,5,311,46"/><area shape="rect" id="node8" href="../../d8/d49/classtasks_1_1error__base.html" title="A helper class for basic error reporting. " alt="" coords="720,67,843,93"/><area shape="rect" id="node9" href="../../d2/d2f/classtasks_1_1tasks__exception.html" title="Tasks execption class. " alt="" coords="419,71,576,97"/><area shape="rect" id="node10" title="STL class. " alt="" coords="196,71,300,97"/><area shape="rect" id="node11" title="STL class. " alt="" coords="208,121,288,148"/><area shape="rect" id="node12" title="STL class. " alt="" coords="6,114,133,155"/><area shape="rect" id="node14" href="../../d1/de1/structtasks_1_1event__task_1_1error__func__t.html" title="tasks::event_task::\lerror_func_t" alt="" coords="430,125,565,166"/><area shape="rect" id="node16" href="../../dd/dff/structtasks_1_1loop__t.html" title="Needed to use std::unique_ptr&lt;&gt; " alt="" coords="199,216,297,243"/><area shape="rect" id="node18" title="STL class. " alt="" coords="206,281,290,308"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a542a75d46dcfb36e76eef52f6ce9354e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a542a75d46dcfb36e76eef52f6ce9354e">worker</a> (uint8_t <a class="el" href="../../df/d43/classtasks_1_1worker.html#a645c34639f8d290a6c8527631d4dca22">id</a>, std::unique_ptr&lt; <a class="el" href="../../dd/dff/structtasks_1_1loop__t.html">loop_t</a> &gt; &amp;loop)</td></tr>
<tr class="separator:a542a75d46dcfb36e76eef52f6ce9354e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee771f14657779a1a0266dbb0dee8f5a"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#aee771f14657779a1a0266dbb0dee8f5a">~worker</a> ()</td></tr>
<tr class="separator:aee771f14657779a1a0266dbb0dee8f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a645c34639f8d290a6c8527631d4dca22"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a645c34639f8d290a6c8527631d4dca22">id</a> () const </td></tr>
<tr class="memdesc:a645c34639f8d290a6c8527631d4dca22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the worker id.  <a href="#a645c34639f8d290a6c8527631d4dca22">More...</a><br/></td></tr>
<tr class="separator:a645c34639f8d290a6c8527631d4dca22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04be4543069f9c63f0ca0604a869c1e4"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a04be4543069f9c63f0ca0604a869c1e4">get_string</a> () const </td></tr>
<tr class="separator:a04be4543069f9c63f0ca0604a869c1e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abacc80578a55ae6614412ef25aeee9bb"><td class="memItemLeft" align="right" valign="top">struct ev_loop *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#abacc80578a55ae6614412ef25aeee9bb">loop_ptr</a> () const </td></tr>
<tr class="memdesc:abacc80578a55ae6614412ef25aeee9bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the event loop pointer for this worker.  <a href="#abacc80578a55ae6614412ef25aeee9bb">More...</a><br/></td></tr>
<tr class="separator:abacc80578a55ae6614412ef25aeee9bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01020c1495687a82b5acc0a53837056"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#af01020c1495687a82b5acc0a53837056">exec_in_worker_ctx</a> (<a class="el" href="../../de/d04/namespacetasks.html#a295d71044c1af36b6b75cfa35102e42a">task_func_t</a> f)</td></tr>
<tr class="separator:af01020c1495687a82b5acc0a53837056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78137585b4cd36523d0c0f2888be3204"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a78137585b4cd36523d0c0f2888be3204">signal_call</a> (<a class="el" href="../../de/d04/namespacetasks.html#a295d71044c1af36b6b75cfa35102e42a">task_func_t</a> f)</td></tr>
<tr class="memdesc:a78137585b4cd36523d0c0f2888be3204"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as exec_in_ctx(task_func_t f)  <a href="#a78137585b4cd36523d0c0f2888be3204">More...</a><br/></td></tr>
<tr class="separator:a78137585b4cd36523d0c0f2888be3204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49ce862b14b1ec7d08ad9ae3e34a8f61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a49ce862b14b1ec7d08ad9ae3e34a8f61">async_call</a> (<a class="el" href="../../de/d04/namespacetasks.html#a295d71044c1af36b6b75cfa35102e42a">task_func_t</a> f)</td></tr>
<tr class="memdesc:a49ce862b14b1ec7d08ad9ae3e34a8f61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put a functor into the async work queue of a worker and notify it.  <a href="#a49ce862b14b1ec7d08ad9ae3e34a8f61">More...</a><br/></td></tr>
<tr class="separator:a49ce862b14b1ec7d08ad9ae3e34a8f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a0e012e78071e69895fe1a596f23441"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a2a0e012e78071e69895fe1a596f23441">set_event_loop</a> (std::unique_ptr&lt; <a class="el" href="../../dd/dff/structtasks_1_1loop__t.html">loop_t</a> &gt; &amp;loop)</td></tr>
<tr class="memdesc:a2a0e012e78071e69895fe1a596f23441"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass the event loop to the worker.  <a href="#a2a0e012e78071e69895fe1a596f23441">More...</a><br/></td></tr>
<tr class="separator:a2a0e012e78071e69895fe1a596f23441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33904e145ff998169bcf10ac088535e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a33904e145ff998169bcf10ac088535e9">terminate</a> ()</td></tr>
<tr class="memdesc:a33904e145ff998169bcf10ac088535e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate the worker and wait for it to finish.  <a href="#a33904e145ff998169bcf10ac088535e9">More...</a><br/></td></tr>
<tr class="separator:a33904e145ff998169bcf10ac088535e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7e693790fb68e5acabccc4c86467b38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#aa7e693790fb68e5acabccc4c86467b38">add_event</a> (<a class="el" href="../../d2/dea/structtasks_1_1event.html">event</a> e)</td></tr>
<tr class="memdesc:aa7e693790fb68e5acabccc4c86467b38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an event to the workers queue.  <a href="#aa7e693790fb68e5acabccc4c86467b38">More...</a><br/></td></tr>
<tr class="separator:aa7e693790fb68e5acabccc4c86467b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6663986cc4fcec9d059bc25190e17fe5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a6663986cc4fcec9d059bc25190e17fe5">handle_io_event</a> (ev_io *watcher, int revents)</td></tr>
<tr class="memdesc:a6663986cc4fcec9d059bc25190e17fe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle an I/O event.  <a href="#a6663986cc4fcec9d059bc25190e17fe5">More...</a><br/></td></tr>
<tr class="separator:a6663986cc4fcec9d059bc25190e17fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3646bedfe239995a5dd91a9ce2cfdc32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a3646bedfe239995a5dd91a9ce2cfdc32">handle_timer_event</a> (ev_timer *watcher)</td></tr>
<tr class="memdesc:a3646bedfe239995a5dd91a9ce2cfdc32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a timer event.  <a href="#a3646bedfe239995a5dd91a9ce2cfdc32">More...</a><br/></td></tr>
<tr class="separator:a3646bedfe239995a5dd91a9ce2cfdc32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabcc2d7e182278e0d432524992139844"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#aabcc2d7e182278e0d432524992139844">events_count</a> () const </td></tr>
<tr class="memdesc:aabcc2d7e182278e0d432524992139844"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of events the worker has handled until now.  <a href="#aabcc2d7e182278e0d432524992139844">More...</a><br/></td></tr>
<tr class="separator:aabcc2d7e182278e0d432524992139844"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af9d8fcab43c8b5e4b98374babd5d8884"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#af9d8fcab43c8b5e4b98374babd5d8884">get</a> ()</td></tr>
<tr class="memdesc:af9d8fcab43c8b5e4b98374babd5d8884"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide access to the executing worker thread object in the current thread context.  <a href="#af9d8fcab43c8b5e4b98374babd5d8884">More...</a><br/></td></tr>
<tr class="separator:af9d8fcab43c8b5e4b98374babd5d8884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2c51895085b8d50381ee14e7ff0f2a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#afc2c51895085b8d50381ee14e7ff0f2a">add_async_event</a> (<a class="el" href="../../d2/dea/structtasks_1_1event.html">event</a> e)</td></tr>
<tr class="memdesc:afc2c51895085b8d50381ee14e7ff0f2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an event to the workers queue from a different thread context.  <a href="#afc2c51895085b8d50381ee14e7ff0f2a">More...</a><br/></td></tr>
<tr class="separator:afc2c51895085b8d50381ee14e7ff0f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac942bd223671898c55e3f57c647bcfc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#ac942bd223671898c55e3f57c647bcfc9">promote_leader</a> ()</td></tr>
<tr class="memdesc:ac942bd223671898c55e3f57c647bcfc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a free worker and promote it to become the next leader.  <a href="#ac942bd223671898c55e3f57c647bcfc9">More...</a><br/></td></tr>
<tr class="separator:ac942bd223671898c55e3f57c647bcfc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c3a7f55b32bd209fd4a53b674ee8b69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a4c3a7f55b32bd209fd4a53b674ee8b69">mark_free</a> ()</td></tr>
<tr class="memdesc:a4c3a7f55b32bd209fd4a53b674ee8b69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let the dispatcher know that this thread is free to become a leader and take on some work.  <a href="#a4c3a7f55b32bd209fd4a53b674ee8b69">More...</a><br/></td></tr>
<tr class="separator:a4c3a7f55b32bd209fd4a53b674ee8b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5d28cada13ab34ea812d206e7ca6f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a3a5d28cada13ab34ea812d206e7ca6f3">run</a> ()</td></tr>
<tr class="memdesc:a3a5d28cada13ab34ea812d206e7ca6f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main method of the thread.  <a href="#a3a5d28cada13ab34ea812d206e7ca6f3">More...</a><br/></td></tr>
<tr class="separator:a3a5d28cada13ab34ea812d206e7ca6f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a69668a197967aaf9c47fe150834abf40"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a69668a197967aaf9c47fe150834abf40">m_id</a></td></tr>
<tr class="memdesc:a69668a197967aaf9c47fe150834abf40"><td class="mdescLeft">&#160;</td><td class="mdescRight">A thread local pointer to the worker thread.  <a href="#a69668a197967aaf9c47fe150834abf40">More...</a><br/></td></tr>
<tr class="separator:a69668a197967aaf9c47fe150834abf40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a300ef92368f7a3186073d1c1818e3349"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a300ef92368f7a3186073d1c1818e3349">m_events_count</a> = 0</td></tr>
<tr class="separator:a300ef92368f7a3186073d1c1818e3349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b700f4486dcd353d822aa9febbf1e82"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../dd/dff/structtasks_1_1loop__t.html">loop_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a8b700f4486dcd353d822aa9febbf1e82">m_loop</a></td></tr>
<tr class="separator:a8b700f4486dcd353d822aa9febbf1e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5729a0a67b931b79b855f9f8d992e11"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#ac5729a0a67b931b79b855f9f8d992e11">m_term</a></td></tr>
<tr class="separator:ac5729a0a67b931b79b855f9f8d992e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab660ca3f293528623d654986c26245d1"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#ab660ca3f293528623d654986c26245d1">m_leader</a></td></tr>
<tr class="separator:ab660ca3f293528623d654986c26245d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc038c26e3d110f9434bc86a4ccfd0de"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#afc038c26e3d110f9434bc86a4ccfd0de">m_work_mutex</a></td></tr>
<tr class="separator:afc038c26e3d110f9434bc86a4ccfd0de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ee96bede747e8160acf2b4004a98ee"><td class="memItemLeft" align="right" valign="top">std::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#ad7ee96bede747e8160acf2b4004a98ee">m_work_cond</a></td></tr>
<tr class="separator:ad7ee96bede747e8160acf2b4004a98ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a121a488abb6bae5d01fe905986c98a0d"><td class="memItemLeft" align="right" valign="top">std::queue&lt; <a class="el" href="../../d2/dea/structtasks_1_1event.html">event</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a121a488abb6bae5d01fe905986c98a0d">m_events_queue</a></td></tr>
<tr class="separator:a121a488abb6bae5d01fe905986c98a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8da7f8f890251128d299b8eed71109"><td class="memItemLeft" align="right" valign="top">ev_async&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#a4d8da7f8f890251128d299b8eed71109">m_signal_watcher</a></td></tr>
<tr class="separator:a4d8da7f8f890251128d299b8eed71109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8d80d8a3e916b2235e9ed6f1c387924"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; std::thread &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#aa8d80d8a3e916b2235e9ed6f1c387924">m_thread</a></td></tr>
<tr class="separator:aa8d80d8a3e916b2235e9ed6f1c387924"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ad49f9b135aa8ff75011433f8d96db8fd"><td class="memItemLeft" align="right" valign="top">static thread_local <a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d43/classtasks_1_1worker.html#ad49f9b135aa8ff75011433f8d96db8fd">m_worker_ptr</a> = nullptr</td></tr>
<tr class="separator:ad49f9b135aa8ff75011433f8d96db8fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00055">55</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a542a75d46dcfb36e76eef52f6ce9354e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tasks::worker::worker </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../dd/dff/structtasks_1_1loop__t.html">loop_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>loop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/de8/worker_8cpp_source.html#l00019">19</a> of file <a class="el" href="../../d4/de8/worker_8cpp_source.html">worker.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_a542a75d46dcfb36e76eef52f6ce9354e_cgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_a542a75d46dcfb36e76eef52f6ce9354e_cgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_a542a75d46dcfb36e76eef52f6ce9354e_cgraph" id="df/d43/classtasks_1_1worker_a542a75d46dcfb36e76eef52f6ce9354e_cgraph">
<area shape="rect" id="node2" href="../../de/d04/namespacetasks.html#a3e33e373b9dbf11285de417da82fd269" title="Callback for async events. " alt="" coords="203,23,339,65"/><area shape="rect" id="node6" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b" title="tasks::dispatcher::\lrun_mode" alt="" coords="623,141,753,182"/><area shape="rect" id="node7" href="../../df/d43/classtasks_1_1worker.html#a3a5d28cada13ab34ea812d206e7ca6f3" title="Main method of the thread. " alt="" coords="207,243,334,269"/><area shape="rect" id="node3" href="../../df/d43/classtasks_1_1worker.html#af01020c1495687a82b5acc0a53837056" title="tasks::worker::exec\l_in_worker_ctx" alt="" coords="402,23,539,65"/><area shape="rect" id="node4" href="../../df/d43/classtasks_1_1worker.html#af9d8fcab43c8b5e4b98374babd5d8884" title="Provide access to the executing worker thread object in the current thread context. " alt="" coords="625,5,751,32"/><area shape="rect" id="node5" href="../../df/d43/classtasks_1_1worker.html#a49ce862b14b1ec7d08ad9ae3e34a8f61" title="Put a functor into the async work queue of a worker and notify it. " alt="" coords="603,56,773,83"/><area shape="rect" id="node8" href="../../df/d43/classtasks_1_1worker.html#a4c3a7f55b32bd209fd4a53b674ee8b69" title="Let the dispatcher know that this thread is free to become a leader and take on some work..." alt="" coords="387,272,554,299"/><area shape="rect" id="node10" href="../../df/d43/classtasks_1_1worker.html#a04be4543069f9c63f0ca0604a869c1e4" title="tasks::worker::get\l_string" alt="" coords="407,206,534,247"/><area shape="rect" id="node11" href="../../df/d43/classtasks_1_1worker.html#ac942bd223671898c55e3f57c647bcfc9" title="Find a free worker and promote it to become the next leader. " alt="" coords="393,141,549,182"/><area shape="rect" id="node12" href="../../d8/d49/classtasks_1_1error__base.html#a8584b2fe6056ef434ceeeb5f7a72f761" title="Return true if an error occured. " alt="" coords="405,374,536,415"/><area shape="rect" id="node14" href="../../d7/d3c/classtasks_1_1task.html#af5a79fa4e4500894378a1cdfbcde7550" title="Returns true if auto deletion is active. " alt="" coords="389,323,552,349"/><area shape="rect" id="node9" href="../../d6/dc9/classtasks_1_1dispatcher.html#a36c445936d02e0bdd2f6d064311efb5e" title="tasks::dispatcher::\linstance" alt="" coords="623,235,753,277"/><area shape="rect" id="node13" href="../../d2/d2f/classtasks_1_1tasks__exception.html#ad0db42130626175b5f1fe74a52bacf66" title="Return the error code. " alt="" coords="609,374,767,415"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aee771f14657779a1a0266dbb0dee8f5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tasks::worker::~worker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/de8/worker_8cpp_source.html#l00038">38</a> of file <a class="el" href="../../d4/de8/worker_8cpp_source.html">worker.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_aee771f14657779a1a0266dbb0dee8f5a_cgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_aee771f14657779a1a0266dbb0dee8f5a_cgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_aee771f14657779a1a0266dbb0dee8f5a_cgraph" id="df/d43/classtasks_1_1worker_aee771f14657779a1a0266dbb0dee8f5a_cgraph">
<area shape="rect" id="node2" href="../../df/d43/classtasks_1_1worker.html#a04be4543069f9c63f0ca0604a869c1e4" title="tasks::worker::get\l_string" alt="" coords="211,5,338,46"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="afc2c51895085b8d50381ee14e7ff0f2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void tasks::worker::add_async_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dea/structtasks_1_1event.html">event</a>&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an event to the workers queue from a different thread context. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00141">141</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_afc2c51895085b8d50381ee14e7ff0f2a_cgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_afc2c51895085b8d50381ee14e7ff0f2a_cgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_afc2c51895085b8d50381ee14e7ff0f2a_cgraph" id="df/d43/classtasks_1_1worker_afc2c51895085b8d50381ee14e7ff0f2a_cgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#a36c445936d02e0bdd2f6d064311efb5e" title="tasks::dispatcher::\linstance" alt="" coords="204,5,335,46"/><area shape="rect" id="node3" href="../../df/d43/classtasks_1_1worker.html#a49ce862b14b1ec7d08ad9ae3e34a8f61" title="Put a functor into the async work queue of a worker and notify it. " alt="" coords="184,71,355,97"/><area shape="rect" id="node4" href="../../df/d43/classtasks_1_1worker.html#aa7e693790fb68e5acabccc4c86467b38" title="Add an event to the workers queue. " alt="" coords="204,122,335,163"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_afc2c51895085b8d50381ee14e7ff0f2a_icgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_afc2c51895085b8d50381ee14e7ff0f2a_icgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_afc2c51895085b8d50381ee14e7ff0f2a_icgraph" id="df/d43/classtasks_1_1worker_afc2c51895085b8d50381ee14e7ff0f2a_icgraph">
<area shape="rect" id="node2" href="../../d9/d52/classtasks_1_1disk__io__task.html#ae03ee8a0504e129f628f67962cb8b415" title="tasks::disk_io_task::op" alt="" coords="184,41,341,68"/><area shape="rect" id="node3" href="../../d9/d52/classtasks_1_1disk__io__task.html#ac6adaca03bc7cb027c868c39c8b525af" title="tasks::disk_io_task\l::add_task" alt="" coords="390,34,525,75"/><area shape="rect" id="node4" href="../../da/dee/classtest__disk__io__task.html#a9c25624668ac4fb05d80c9e2f6248e3a" title="test_disk_io_task::\lwrite" alt="" coords="586,5,718,46"/><area shape="rect" id="node5" href="../../da/dee/classtest__disk__io__task.html#a955a97b94427dd160b81a3aff8e71b8d" title="test_disk_io_task::read" alt="" coords="573,71,731,97"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa7e693790fb68e5acabccc4c86467b38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::worker::add_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/dea/structtasks_1_1event.html">event</a>&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add an event to the workers queue. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00138">138</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_aa7e693790fb68e5acabccc4c86467b38_icgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_aa7e693790fb68e5acabccc4c86467b38_icgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_aa7e693790fb68e5acabccc4c86467b38_icgraph" id="df/d43/classtasks_1_1worker_aa7e693790fb68e5acabccc4c86467b38_icgraph">
<area shape="rect" id="node2" href="../../df/d43/classtasks_1_1worker.html#afc2c51895085b8d50381ee14e7ff0f2a" title="Add an event to the workers queue from a different thread context. " alt="" coords="185,34,316,75"/><area shape="rect" id="node7" href="../../de/d04/namespacetasks.html#a995213753e5a4cbd853133ef57e760e3" title="Callback for I/O events. " alt="" coords="184,99,317,141"/><area shape="rect" id="node3" href="../../d9/d52/classtasks_1_1disk__io__task.html#ae03ee8a0504e129f628f67962cb8b415" title="tasks::disk_io_task::op" alt="" coords="365,41,523,68"/><area shape="rect" id="node4" href="../../d9/d52/classtasks_1_1disk__io__task.html#ac6adaca03bc7cb027c868c39c8b525af" title="tasks::disk_io_task\l::add_task" alt="" coords="571,34,706,75"/><area shape="rect" id="node5" href="../../da/dee/classtest__disk__io__task.html#a9c25624668ac4fb05d80c9e2f6248e3a" title="test_disk_io_task::\lwrite" alt="" coords="767,5,899,46"/><area shape="rect" id="node6" href="../../da/dee/classtest__disk__io__task.html#a955a97b94427dd160b81a3aff8e71b8d" title="test_disk_io_task::read" alt="" coords="755,71,912,97"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a49ce862b14b1ec7d08ad9ae3e34a8f61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::worker::async_call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d04/namespacetasks.html#a295d71044c1af36b6b75cfa35102e42a">task_func_t</a>&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Put a functor into the async work queue of a worker and notify it. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00107">107</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_a49ce862b14b1ec7d08ad9ae3e34a8f61_icgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_a49ce862b14b1ec7d08ad9ae3e34a8f61_icgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_a49ce862b14b1ec7d08ad9ae3e34a8f61_icgraph" id="df/d43/classtasks_1_1worker_a49ce862b14b1ec7d08ad9ae3e34a8f61_icgraph">
<area shape="rect" id="node2" href="../../df/d43/classtasks_1_1worker.html#af01020c1495687a82b5acc0a53837056" title="tasks::worker::exec\l_in_worker_ctx" alt="" coords="225,365,362,406"/><area shape="rect" id="node23" href="../../df/d43/classtasks_1_1worker.html#afc2c51895085b8d50381ee14e7ff0f2a" title="Add an event to the workers queue from a different thread context. " alt="" coords="228,557,359,598"/><area shape="rect" id="node3" href="../../d9/d52/classtasks_1_1disk__io__task.html#a23b21c2641131cd429ab3cab55404355" title="tasks::disk_io_task\l::dispose" alt="" coords="431,5,566,46"/><area shape="rect" id="node4" href="../../de/de3/classtasks_1_1io__task__base.html#af42cadd61a36bec27c067521f94cd801" title="Start a watcher in the context of the given worker. " alt="" coords="429,70,568,111"/><area shape="rect" id="node5" href="../../de/de3/classtasks_1_1io__task__base.html#a3ae2cf1cccb7db2337eefcfbdc4c6417" title="Stop a watcher in the context of the given worker. " alt="" coords="429,135,568,177"/><area shape="rect" id="node7" href="../../de/de3/classtasks_1_1io__task__base.html#a9f80b3d6463ffcf3fed9f05c1af1cca4" title="Udate a watcher in the context of the given worker. " alt="" coords="429,201,568,242"/><area shape="rect" id="node13" href="../../de/de3/classtasks_1_1io__task__base.html#a5cc6993fd4ddf26af94fa9f8e8f54235" title="Stop the watcher before being deleted. " alt="" coords="429,266,568,307"/><area shape="rect" id="node14" href="../../d0/dac/classtasks_1_1net__io__task.html#ac9af98f1bea22c48939d657d88293067" title="tasks::net_io_task\l::add_task" alt="" coords="434,331,563,373"/><area shape="rect" id="node15" href="../../d5/d9a/classtasks_1_1timer__task.html#a85b31b79bef51662df50e51c886ee771" title="Activate the underlying watcher to listen for I/O or timer events. " alt="" coords="433,397,564,438"/><area shape="rect" id="node18" href="../../d5/d9a/classtasks_1_1timer__task.html#a563b2f6c2547dfc434a3d5014b3a2cda" title="Deactivate the underlying watcher. " alt="" coords="433,462,564,503"/><area shape="rect" id="node19" href="../../da/d73/classtasks_1_1net_1_1uwsgi__thrift__async__processor.html#aeb5947eb5c8c5c817d8ffa0c91641f9b" title="tasks::net::uwsgi_thrift\l_async_processor::handle\l_request" alt="" coords="411,527,586,583"/><area shape="rect" id="node20" href="../../de/d04/namespacetasks.html#a3e33e373b9dbf11285de417da82fd269" title="Callback for async events. " alt="" coords="431,606,567,647"/><area shape="rect" id="node22" href="../../df/d43/classtasks_1_1worker.html#a78137585b4cd36523d0c0f2888be3204" title="Same as exec_in_ctx(task_func_t f) " alt="" coords="413,672,584,699"/><area shape="rect" id="node6" href="../../d5/d2c/classtasks_1_1net_1_1http__sender.html#aa557541342d08a5b760a7ab8ef0a01cf" title="tasks::net::http_sender\l::send" alt="" coords="635,135,791,177"/><area shape="rect" id="node8" href="../../d5/d2c/classtasks_1_1net_1_1http__sender.html#a05a811e7a63c526de3e1bf9c92aeb3ba" title="tasks::net::http_sender\l::handle_event" alt="" coords="635,201,791,242"/><area shape="rect" id="node9" href="../../d1/da5/classtasks_1_1net_1_1uwsgi__task.html#ae36e9d54f000a845707dca0f80c97031" title="tasks::net::uwsgi_task\l::handle_event" alt="" coords="636,266,791,307"/><area shape="rect" id="node10" href="../../d1/da5/classtasks_1_1net_1_1uwsgi__task.html#a049774118f72950828da30a7af01e10f" title="tasks::net::uwsgi_task\l::send_response" alt="" coords="636,331,791,373"/><area shape="rect" id="node11" href="../../d7/d8f/classuwsgi__handler.html#a27cb6c799556b646dae3b9749204b0b9" title="uwsgi_handler::handle\l_request" alt="" coords="857,266,1007,307"/><area shape="rect" id="node12" href="../../d3/d84/classtasks_1_1net_1_1uwsgi__thrift__processor.html#a0db99757d968baf1fccf273b130e13d0" title="tasks::net::uwsgi_thrift\l_processor::handle_request" alt="" coords="841,331,1023,373"/><area shape="rect" id="node16" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6fc3fb597041623eb87c696364a0a08c" title="tasks::dispatcher::\lremove_event_task" alt="" coords="645,397,781,438"/><area shape="rect" id="node17" href="../../d6/dc9/classtasks_1_1dispatcher.html#aa63903229ad8948e8fc48a1131fd77a3" title="Remove a task from the system. " alt="" coords="867,397,997,438"/><area shape="rect" id="node21" href="../../df/d43/classtasks_1_1worker.html#a542a75d46dcfb36e76eef52f6ce9354e" title="tasks::worker::worker" alt="" coords="639,613,787,640"/><area shape="rect" id="node24" href="../../d9/d52/classtasks_1_1disk__io__task.html#ae03ee8a0504e129f628f67962cb8b415" title="tasks::disk_io_task::op" alt="" coords="420,723,577,749"/><area shape="rect" id="node25" href="../../d9/d52/classtasks_1_1disk__io__task.html#ac6adaca03bc7cb027c868c39c8b525af" title="tasks::disk_io_task\l::add_task" alt="" coords="646,715,781,757"/><area shape="rect" id="node26" href="../../da/dee/classtest__disk__io__task.html#a9c25624668ac4fb05d80c9e2f6248e3a" title="test_disk_io_task::\lwrite" alt="" coords="866,686,998,727"/><area shape="rect" id="node27" href="../../da/dee/classtest__disk__io__task.html#a955a97b94427dd160b81a3aff8e71b8d" title="test_disk_io_task::read" alt="" coords="853,752,1011,779"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aabcc2d7e182278e0d432524992139844"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t tasks::worker::events_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of events the worker has handled until now. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00158">158</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="af01020c1495687a82b5acc0a53837056"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tasks::worker::exec_in_worker_ctx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d04/namespacetasks.html#a295d71044c1af36b6b75cfa35102e42a">task_func_t</a>&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Executes task_func_t directly if called in leader thread context or delegates it. Returns true when task_func_t has been executed. If some work needs to be executed in the context of a worker thread (eg to modify a watcher) this method needs to be used. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00089">89</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_af01020c1495687a82b5acc0a53837056_cgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_af01020c1495687a82b5acc0a53837056_cgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_af01020c1495687a82b5acc0a53837056_cgraph" id="df/d43/classtasks_1_1worker_af01020c1495687a82b5acc0a53837056_cgraph">
<area shape="rect" id="node2" href="../../df/d43/classtasks_1_1worker.html#af9d8fcab43c8b5e4b98374babd5d8884" title="Provide access to the executing worker thread object in the current thread context. " alt="" coords="214,5,341,32"/><area shape="rect" id="node3" href="../../df/d43/classtasks_1_1worker.html#a49ce862b14b1ec7d08ad9ae3e34a8f61" title="Put a functor into the async work queue of a worker and notify it. " alt="" coords="192,56,363,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_af01020c1495687a82b5acc0a53837056_icgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_af01020c1495687a82b5acc0a53837056_icgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_af01020c1495687a82b5acc0a53837056_icgraph" id="df/d43/classtasks_1_1worker_af01020c1495687a82b5acc0a53837056_icgraph">
<area shape="rect" id="node2" href="../../d9/d52/classtasks_1_1disk__io__task.html#a23b21c2641131cd429ab3cab55404355" title="tasks::disk_io_task\l::dispose" alt="" coords="213,5,347,46"/><area shape="rect" id="node3" href="../../de/de3/classtasks_1_1io__task__base.html#af42cadd61a36bec27c067521f94cd801" title="Start a watcher in the context of the given worker. " alt="" coords="211,70,349,111"/><area shape="rect" id="node4" href="../../de/de3/classtasks_1_1io__task__base.html#a3ae2cf1cccb7db2337eefcfbdc4c6417" title="Stop a watcher in the context of the given worker. " alt="" coords="211,135,349,177"/><area shape="rect" id="node6" href="../../de/de3/classtasks_1_1io__task__base.html#a9f80b3d6463ffcf3fed9f05c1af1cca4" title="Udate a watcher in the context of the given worker. " alt="" coords="211,201,349,242"/><area shape="rect" id="node12" href="../../de/de3/classtasks_1_1io__task__base.html#a5cc6993fd4ddf26af94fa9f8e8f54235" title="Stop the watcher before being deleted. " alt="" coords="211,266,349,307"/><area shape="rect" id="node13" href="../../d0/dac/classtasks_1_1net__io__task.html#ac9af98f1bea22c48939d657d88293067" title="tasks::net_io_task\l::add_task" alt="" coords="215,331,345,373"/><area shape="rect" id="node14" href="../../d5/d9a/classtasks_1_1timer__task.html#a85b31b79bef51662df50e51c886ee771" title="Activate the underlying watcher to listen for I/O or timer events. " alt="" coords="215,397,345,438"/><area shape="rect" id="node17" href="../../d5/d9a/classtasks_1_1timer__task.html#a563b2f6c2547dfc434a3d5014b3a2cda" title="Deactivate the underlying watcher. " alt="" coords="215,462,345,503"/><area shape="rect" id="node18" href="../../da/d73/classtasks_1_1net_1_1uwsgi__thrift__async__processor.html#aeb5947eb5c8c5c817d8ffa0c91641f9b" title="tasks::net::uwsgi_thrift\l_async_processor::handle\l_request" alt="" coords="193,527,367,583"/><area shape="rect" id="node19" href="../../de/d04/namespacetasks.html#a3e33e373b9dbf11285de417da82fd269" title="Callback for async events. " alt="" coords="212,606,348,647"/><area shape="rect" id="node21" href="../../df/d43/classtasks_1_1worker.html#a78137585b4cd36523d0c0f2888be3204" title="Same as exec_in_ctx(task_func_t f) " alt="" coords="195,672,365,699"/><area shape="rect" id="node5" href="../../d5/d2c/classtasks_1_1net_1_1http__sender.html#aa557541342d08a5b760a7ab8ef0a01cf" title="tasks::net::http_sender\l::send" alt="" coords="417,135,573,177"/><area shape="rect" id="node7" href="../../d5/d2c/classtasks_1_1net_1_1http__sender.html#a05a811e7a63c526de3e1bf9c92aeb3ba" title="tasks::net::http_sender\l::handle_event" alt="" coords="417,201,573,242"/><area shape="rect" id="node8" href="../../d1/da5/classtasks_1_1net_1_1uwsgi__task.html#ae36e9d54f000a845707dca0f80c97031" title="tasks::net::uwsgi_task\l::handle_event" alt="" coords="417,266,572,307"/><area shape="rect" id="node9" href="../../d1/da5/classtasks_1_1net_1_1uwsgi__task.html#a049774118f72950828da30a7af01e10f" title="tasks::net::uwsgi_task\l::send_response" alt="" coords="417,331,572,373"/><area shape="rect" id="node10" href="../../d7/d8f/classuwsgi__handler.html#a27cb6c799556b646dae3b9749204b0b9" title="uwsgi_handler::handle\l_request" alt="" coords="638,266,789,307"/><area shape="rect" id="node11" href="../../d3/d84/classtasks_1_1net_1_1uwsgi__thrift__processor.html#a0db99757d968baf1fccf273b130e13d0" title="tasks::net::uwsgi_thrift\l_processor::handle_request" alt="" coords="622,331,805,373"/><area shape="rect" id="node15" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6fc3fb597041623eb87c696364a0a08c" title="tasks::dispatcher::\lremove_event_task" alt="" coords="427,397,563,438"/><area shape="rect" id="node16" href="../../d6/dc9/classtasks_1_1dispatcher.html#aa63903229ad8948e8fc48a1131fd77a3" title="Remove a task from the system. " alt="" coords="648,397,779,438"/><area shape="rect" id="node20" href="../../df/d43/classtasks_1_1worker.html#a542a75d46dcfb36e76eef52f6ce9354e" title="tasks::worker::worker" alt="" coords="421,613,569,640"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af9d8fcab43c8b5e4b98374babd5d8884"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a>* tasks::worker::get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provide access to the executing worker thread object in the current thread context. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00064">64</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_af9d8fcab43c8b5e4b98374babd5d8884_icgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_af9d8fcab43c8b5e4b98374babd5d8884_icgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_af9d8fcab43c8b5e4b98374babd5d8884_icgraph" id="df/d43/classtasks_1_1worker_af9d8fcab43c8b5e4b98374babd5d8884_icgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#a0f1cadf1f3c41922f3a587d6a68404aa" title="tasks::dispatcher::\lget_worker_by_task" alt="" coords="181,63,320,105"/><area shape="rect" id="node8" href="../../d1/da5/classtasks_1_1net_1_1uwsgi__task.html#a049774118f72950828da30a7af01e10f" title="tasks::net::uwsgi_task\l::send_response" alt="" coords="593,819,748,861"/><area shape="rect" id="node11" href="../../df/d43/classtasks_1_1worker.html#af01020c1495687a82b5acc0a53837056" title="tasks::worker::exec\l_in_worker_ctx" alt="" coords="182,449,319,490"/><area shape="rect" id="node3" href="../../d6/dc9/classtasks_1_1dispatcher.html#a1ed405b5465b95f8fd79d68aa460fcf6" title="Add an event task to the system. " alt="" coords="391,5,521,46"/><area shape="rect" id="node6" href="../../d6/dc9/classtasks_1_1dispatcher.html#a6fc3fb597041623eb87c696364a0a08c" title="tasks::dispatcher::\lremove_event_task" alt="" coords="603,95,739,137"/><area shape="rect" id="node4" href="../../d6/dc9/classtasks_1_1dispatcher.html#adea6e284569cb76d49aaf4dc8b780b60" title="tasks::dispatcher::\ladd_task" alt="" coords="605,5,736,46"/><area shape="rect" id="node5" href="../../d6/dc9/classtasks_1_1dispatcher.html#af94da68a83d84223856f73d0279ebbff" title="This method starts the system and blocks until terminate() gets called. " alt="" coords="815,12,963,39"/><area shape="rect" id="node7" href="../../d6/dc9/classtasks_1_1dispatcher.html#aa63903229ad8948e8fc48a1131fd77a3" title="Remove a task from the system. " alt="" coords="824,95,955,137"/><area shape="rect" id="node9" href="../../d7/d8f/classuwsgi__handler.html#a27cb6c799556b646dae3b9749204b0b9" title="uwsgi_handler::handle\l_request" alt="" coords="814,786,965,827"/><area shape="rect" id="node10" href="../../d3/d84/classtasks_1_1net_1_1uwsgi__thrift__processor.html#a0db99757d968baf1fccf273b130e13d0" title="tasks::net::uwsgi_thrift\l_processor::handle_request" alt="" coords="798,851,981,893"/><area shape="rect" id="node12" href="../../d9/d52/classtasks_1_1disk__io__task.html#a23b21c2641131cd429ab3cab55404355" title="tasks::disk_io_task\l::dispose" alt="" coords="389,383,523,425"/><area shape="rect" id="node13" href="../../de/de3/classtasks_1_1io__task__base.html#af42cadd61a36bec27c067521f94cd801" title="Start a watcher in the context of the given worker. " alt="" coords="387,449,525,490"/><area shape="rect" id="node14" href="../../de/de3/classtasks_1_1io__task__base.html#a3ae2cf1cccb7db2337eefcfbdc4c6417" title="Stop a watcher in the context of the given worker. " alt="" coords="387,514,525,555"/><area shape="rect" id="node16" href="../../de/de3/classtasks_1_1io__task__base.html#a9f80b3d6463ffcf3fed9f05c1af1cca4" title="Udate a watcher in the context of the given worker. " alt="" coords="387,710,525,751"/><area shape="rect" id="node19" href="../../de/de3/classtasks_1_1io__task__base.html#a5cc6993fd4ddf26af94fa9f8e8f54235" title="Stop the watcher before being deleted. " alt="" coords="387,579,525,621"/><area shape="rect" id="node20" href="../../d0/dac/classtasks_1_1net__io__task.html#ac9af98f1bea22c48939d657d88293067" title="tasks::net_io_task\l::add_task" alt="" coords="391,645,521,686"/><area shape="rect" id="node21" href="../../d5/d9a/classtasks_1_1timer__task.html#a85b31b79bef51662df50e51c886ee771" title="Activate the underlying watcher to listen for I/O or timer events. " alt="" coords="391,122,521,163"/><area shape="rect" id="node22" href="../../d5/d9a/classtasks_1_1timer__task.html#a563b2f6c2547dfc434a3d5014b3a2cda" title="Deactivate the underlying watcher. " alt="" coords="391,775,521,817"/><area shape="rect" id="node23" href="../../da/d73/classtasks_1_1net_1_1uwsgi__thrift__async__processor.html#aeb5947eb5c8c5c817d8ffa0c91641f9b" title="tasks::net::uwsgi_thrift\l_async_processor::handle\l_request" alt="" coords="369,252,543,308"/><area shape="rect" id="node24" href="../../de/d04/namespacetasks.html#a3e33e373b9dbf11285de417da82fd269" title="Callback for async events. " alt="" coords="388,187,524,229"/><area shape="rect" id="node26" href="../../df/d43/classtasks_1_1worker.html#a78137585b4cd36523d0c0f2888be3204" title="Same as exec_in_ctx(task_func_t f) " alt="" coords="371,332,541,359"/><area shape="rect" id="node15" href="../../d5/d2c/classtasks_1_1net_1_1http__sender.html#aa557541342d08a5b760a7ab8ef0a01cf" title="tasks::net::http_sender\l::send" alt="" coords="593,562,749,603"/><area shape="rect" id="node17" href="../../d5/d2c/classtasks_1_1net_1_1http__sender.html#a05a811e7a63c526de3e1bf9c92aeb3ba" title="tasks::net::http_sender\l::handle_event" alt="" coords="593,659,749,701"/><area shape="rect" id="node18" href="../../d1/da5/classtasks_1_1net_1_1uwsgi__task.html#ae36e9d54f000a845707dca0f80c97031" title="tasks::net::uwsgi_task\l::handle_event" alt="" coords="593,725,748,766"/><area shape="rect" id="node25" href="../../df/d43/classtasks_1_1worker.html#a542a75d46dcfb36e76eef52f6ce9354e" title="tasks::worker::worker" alt="" coords="597,195,745,221"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a04be4543069f9c63f0ca0604a869c1e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string tasks::worker::get_string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00066">66</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_a04be4543069f9c63f0ca0604a869c1e4_icgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_a04be4543069f9c63f0ca0604a869c1e4_icgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_a04be4543069f9c63f0ca0604a869c1e4_icgraph" id="df/d43/classtasks_1_1worker_a04be4543069f9c63f0ca0604a869c1e4_icgraph">
<area shape="rect" id="node2" href="../../df/d43/classtasks_1_1worker.html#aee771f14657779a1a0266dbb0dee8f5a" title="tasks::worker::~worker" alt="" coords="182,5,338,32"/><area shape="rect" id="node3" href="../../df/d43/classtasks_1_1worker.html#a3a5d28cada13ab34ea812d206e7ca6f3" title="Main method of the thread. " alt="" coords="197,56,323,83"/><area shape="rect" id="node4" href="../../df/d43/classtasks_1_1worker.html#a542a75d46dcfb36e76eef52f6ce9354e" title="tasks::worker::worker" alt="" coords="387,56,535,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6663986cc4fcec9d059bc25190e17fe5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::worker::handle_io_event </td>
          <td>(</td>
          <td class="paramtype">ev_io *&#160;</td>
          <td class="paramname"><em>watcher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>revents</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle an I/O event. </p>

</div>
</div>
<a class="anchor" id="a3646bedfe239995a5dd91a9ce2cfdc32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::worker::handle_timer_event </td>
          <td>(</td>
          <td class="paramtype">ev_timer *&#160;</td>
          <td class="paramname"><em>watcher</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle a timer event. </p>

</div>
</div>
<a class="anchor" id="a645c34639f8d290a6c8527631d4dca22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t tasks::worker::id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the worker id. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00061">61</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="abacc80578a55ae6614412ef25aeee9bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct ev_loop* tasks::worker::loop_ptr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the event loop pointer for this worker. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00073">73</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_abacc80578a55ae6614412ef25aeee9bb_cgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_abacc80578a55ae6614412ef25aeee9bb_cgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_abacc80578a55ae6614412ef25aeee9bb_cgraph" id="df/d43/classtasks_1_1worker_abacc80578a55ae6614412ef25aeee9bb_cgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b" title="tasks::dispatcher::\lrun_mode" alt="" coords="208,5,339,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c3a7f55b32bd209fd4a53b674ee8b69"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::worker::mark_free </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Let the dispatcher know that this thread is free to become a leader and take on some work. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00227">227</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_a4c3a7f55b32bd209fd4a53b674ee8b69_cgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_a4c3a7f55b32bd209fd4a53b674ee8b69_cgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_a4c3a7f55b32bd209fd4a53b674ee8b69_cgraph" id="df/d43/classtasks_1_1worker_a4c3a7f55b32bd209fd4a53b674ee8b69_cgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b" title="tasks::dispatcher::\lrun_mode" alt="" coords="221,5,352,46"/><area shape="rect" id="node3" href="../../d6/dc9/classtasks_1_1dispatcher.html#a36c445936d02e0bdd2f6d064311efb5e" title="tasks::dispatcher::\linstance" alt="" coords="221,70,352,111"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_a4c3a7f55b32bd209fd4a53b674ee8b69_icgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_a4c3a7f55b32bd209fd4a53b674ee8b69_icgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_a4c3a7f55b32bd209fd4a53b674ee8b69_icgraph" id="df/d43/classtasks_1_1worker_a4c3a7f55b32bd209fd4a53b674ee8b69_icgraph">
<area shape="rect" id="node2" href="../../df/d43/classtasks_1_1worker.html#a3a5d28cada13ab34ea812d206e7ca6f3" title="Main method of the thread. " alt="" coords="222,5,349,32"/><area shape="rect" id="node3" href="../../df/d43/classtasks_1_1worker.html#a542a75d46dcfb36e76eef52f6ce9354e" title="tasks::worker::worker" alt="" coords="398,5,546,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac942bd223671898c55e3f57c647bcfc9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::worker::promote_leader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find a free worker and promote it to become the next leader. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00214">214</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_ac942bd223671898c55e3f57c647bcfc9_cgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_ac942bd223671898c55e3f57c647bcfc9_cgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_ac942bd223671898c55e3f57c647bcfc9_cgraph" id="df/d43/classtasks_1_1worker_ac942bd223671898c55e3f57c647bcfc9_cgraph">
<area shape="rect" id="node2" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b" title="tasks::dispatcher::\lrun_mode" alt="" coords="211,5,341,46"/><area shape="rect" id="node3" href="../../d6/dc9/classtasks_1_1dispatcher.html#a36c445936d02e0bdd2f6d064311efb5e" title="tasks::dispatcher::\linstance" alt="" coords="211,70,341,111"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_ac942bd223671898c55e3f57c647bcfc9_icgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_ac942bd223671898c55e3f57c647bcfc9_icgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_ac942bd223671898c55e3f57c647bcfc9_icgraph" id="df/d43/classtasks_1_1worker_ac942bd223671898c55e3f57c647bcfc9_icgraph">
<area shape="rect" id="node2" href="../../df/d43/classtasks_1_1worker.html#a3a5d28cada13ab34ea812d206e7ca6f3" title="Main method of the thread. " alt="" coords="211,12,338,39"/><area shape="rect" id="node3" href="../../df/d43/classtasks_1_1worker.html#a542a75d46dcfb36e76eef52f6ce9354e" title="tasks::worker::worker" alt="" coords="387,12,535,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3a5d28cada13ab34ea812d206e7ca6f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::worker::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Main method of the thread. </p>

<p>Definition at line <a class="el" href="../../d4/de8/worker_8cpp_source.html#l00044">44</a> of file <a class="el" href="../../d4/de8/worker_8cpp_source.html">worker.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_a3a5d28cada13ab34ea812d206e7ca6f3_cgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_a3a5d28cada13ab34ea812d206e7ca6f3_cgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_a3a5d28cada13ab34ea812d206e7ca6f3_cgraph" id="df/d43/classtasks_1_1worker_a3a5d28cada13ab34ea812d206e7ca6f3_cgraph">
<area shape="rect" id="node2" href="../../df/d43/classtasks_1_1worker.html#a4c3a7f55b32bd209fd4a53b674ee8b69" title="Let the dispatcher know that this thread is free to become a leader and take on some work..." alt="" coords="182,73,349,100"/><area shape="rect" id="node5" href="../../df/d43/classtasks_1_1worker.html#a04be4543069f9c63f0ca0604a869c1e4" title="tasks::worker::get\l_string" alt="" coords="202,125,329,166"/><area shape="rect" id="node6" href="../../df/d43/classtasks_1_1worker.html#ac942bd223671898c55e3f57c647bcfc9" title="Find a free worker and promote it to become the next leader. " alt="" coords="187,7,343,49"/><area shape="rect" id="node7" href="../../d8/d49/classtasks_1_1error__base.html#a8584b2fe6056ef434ceeeb5f7a72f761" title="Return true if an error occured. " alt="" coords="200,190,331,231"/><area shape="rect" id="node9" href="../../d7/d3c/classtasks_1_1task.html#af5a79fa4e4500894378a1cdfbcde7550" title="Returns true if auto deletion is active. " alt="" coords="184,256,347,283"/><area shape="rect" id="node3" href="../../d6/dc9/classtasks_1_1dispatcher.html#a274be124d8a11e9a68a8debb69daac0b" title="tasks::dispatcher::\lrun_mode" alt="" coords="411,70,541,111"/><area shape="rect" id="node4" href="../../d6/dc9/classtasks_1_1dispatcher.html#a36c445936d02e0bdd2f6d064311efb5e" title="tasks::dispatcher::\linstance" alt="" coords="411,5,541,46"/><area shape="rect" id="node8" href="../../d2/d2f/classtasks_1_1tasks__exception.html#ad0db42130626175b5f1fe74a52bacf66" title="Return the error code. " alt="" coords="397,190,555,231"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_a3a5d28cada13ab34ea812d206e7ca6f3_icgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_a3a5d28cada13ab34ea812d206e7ca6f3_icgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_a3a5d28cada13ab34ea812d206e7ca6f3_icgraph" id="df/d43/classtasks_1_1worker_a3a5d28cada13ab34ea812d206e7ca6f3_icgraph">
<area shape="rect" id="node2" href="../../df/d43/classtasks_1_1worker.html#a542a75d46dcfb36e76eef52f6ce9354e" title="tasks::worker::worker" alt="" coords="182,5,330,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2a0e012e78071e69895fe1a596f23441"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::worker::set_event_loop </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../dd/dff/structtasks_1_1loop__t.html">loop_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>loop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pass the event loop to the worker. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00117">117</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="a78137585b4cd36523d0c0f2888be3204"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tasks::worker::signal_call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d04/namespacetasks.html#a295d71044c1af36b6b75cfa35102e42a">task_func_t</a>&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Same as exec_in_ctx(task_func_t f) </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00102">102</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d43/classtasks_1_1worker_a78137585b4cd36523d0c0f2888be3204_cgraph.png" border="0" usemap="#df/d43/classtasks_1_1worker_a78137585b4cd36523d0c0f2888be3204_cgraph" alt=""/></div>
<map name="df/d43/classtasks_1_1worker_a78137585b4cd36523d0c0f2888be3204_cgraph" id="df/d43/classtasks_1_1worker_a78137585b4cd36523d0c0f2888be3204_cgraph">
<area shape="rect" id="node2" href="../../df/d43/classtasks_1_1worker.html#af01020c1495687a82b5acc0a53837056" title="tasks::worker::exec\l_in_worker_ctx" alt="" coords="225,23,362,65"/><area shape="rect" id="node3" href="../../df/d43/classtasks_1_1worker.html#af9d8fcab43c8b5e4b98374babd5d8884" title="Provide access to the executing worker thread object in the current thread context. " alt="" coords="433,5,559,32"/><area shape="rect" id="node4" href="../../df/d43/classtasks_1_1worker.html#a49ce862b14b1ec7d08ad9ae3e34a8f61" title="Put a functor into the async work queue of a worker and notify it. " alt="" coords="411,56,581,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a33904e145ff998169bcf10ac088535e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tasks::worker::terminate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Terminate the worker and wait for it to finish. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00125">125</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a300ef92368f7a3186073d1c1818e3349"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t tasks::worker::m_events_count = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00194">194</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="a121a488abb6bae5d01fe905986c98a0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::queue&lt;<a class="el" href="../../d2/dea/structtasks_1_1event.html">event</a>&gt; tasks::worker::m_events_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00200">200</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="a69668a197967aaf9c47fe150834abf40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t tasks::worker::m_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A thread local pointer to the worker thread. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00193">193</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab660ca3f293528623d654986c26245d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; tasks::worker::m_leader</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00197">197</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8b700f4486dcd353d822aa9febbf1e82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../dd/dff/structtasks_1_1loop__t.html">loop_t</a>&gt; tasks::worker::m_loop</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00195">195</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4d8da7f8f890251128d299b8eed71109"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ev_async tasks::worker::m_signal_watcher</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Every worker has an async watcher to be able to call into the leader thread context. </p>

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00209">209</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac5729a0a67b931b79b855f9f8d992e11"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; tasks::worker::m_term</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00196">196</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa8d80d8a3e916b2235e9ed6f1c387924"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;std::thread&gt; tasks::worker::m_thread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00211">211</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad7ee96bede747e8160acf2b4004a98ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::condition_variable tasks::worker::m_work_cond</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00199">199</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="afc038c26e3d110f9434bc86a4ccfd0de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex tasks::worker::m_work_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00198">198</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad49f9b135aa8ff75011433f8d96db8fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">thread_local <a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a> * tasks::worker::m_worker_ptr = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/da5/worker_8h_source.html#l00189">189</a> of file <a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../da/da5/worker_8h_source.html">worker.h</a></li>
<li><a class="el" href="../../d4/de8/worker_8cpp_source.html">worker.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/d04/namespacetasks.html">tasks</a></li><li class="navelem"><a class="el" href="../../df/d43/classtasks_1_1worker.html">worker</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
